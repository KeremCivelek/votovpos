/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/editor/contrib/inlineCompletions/inlineCompletionsHoverParticipant.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __decorate=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(s=(i<3?r(s):i>3?r(t,o,s):r(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};import*as nls from"../../../nls.js";import{HoverForeignElementAnchor}from"../hover/hoverTypes.js";import{Range}from"../../common/core/range.js";import{DisposableStore}from"../../../base/common/lifecycle.js";import{commitInlineSuggestionAction,GhostTextController,ShowNextInlineSuggestionAction,ShowPreviousInlineSuggestionAction}from"./ghostTextController.js";import{ICommandService}from"../../../platform/commands/common/commands.js";import{IMenuService,MenuId,MenuItemAction}from"../../../platform/actions/common/actions.js";import{IContextKeyService}from"../../../platform/contextkey/common/contextkey.js";export class InlineCompletionsHover{constructor(e,t,o){this.owner=e,this.range=t,this.controller=o}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let InlineCompletionsHoverParticipant=class{constructor(e,t,o,n,r){this._editor=e,this._commandService=o,this._menuService=n,this._contextKeyService=r}suggestHoverAnchor(e){const t=GhostTextController.get(this._editor);if(!t)return null;if(8===e.target.type){const o=e.target.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId))return new HoverForeignElementAnchor(1e3,this,Range.fromPositions(o.positionBefore||o.position,o.positionBefore||o.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new HoverForeignElementAnchor(1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){if(e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range))return new HoverForeignElementAnchor(1e3,this,e.target.range)}return null}computeSync(e,t){const o=GhostTextController.get(this._editor);return o&&o.shouldShowHoverAt(e.range)?[new InlineCompletionsHover(this,e.range,o)]:[]}renderHoverParts(e,t,o){const n=new DisposableStore,r=n.add(this._menuService.createMenu(MenuId.InlineCompletionsActions,this._contextKeyService)),i=o.addAction({label:nls.localize("showNextInlineSuggestion","Next"),commandId:ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ShowNextInlineSuggestionAction.ID)}),s=o.addAction({label:nls.localize("showPreviousInlineSuggestion","Previous"),commandId:ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(ShowPreviousInlineSuggestionAction.ID)});o.addAction({label:nls.localize("acceptInlineSuggestion","Accept"),commandId:commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(commitInlineSuggestionAction.id)});const c=[i,s];for(const e of c)e.setEnabled(!1);e[0].hasMultipleSuggestions().then((e=>{for(const t of c)t.setEnabled(e)}));for(const[e,t]of r.getActions())for(const e of t)e instanceof MenuItemAction&&o.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return n}};InlineCompletionsHoverParticipant=__decorate([__param(2,ICommandService),__param(3,IMenuService),__param(4,IContextKeyService)],InlineCompletionsHoverParticipant);export{InlineCompletionsHoverParticipant};
//# sourceMappingURL=/sm/07e5893c580140cb62d340901e4bb8ef910d4ac3ba41509073ba0491fdfdc095.map