/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/monaco-editor@0.33.0/esm/vs/editor/contrib/inlayHints/browser/inlayHintsLocations.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __awaiter=this&&this.__awaiter||function(o,e,t,i){return new(t||(t=Promise))((function(n,r){function a(o){try{s(i.next(o))}catch(o){r(o)}}function c(o){try{s(i.throw(o))}catch(o){r(o)}}function s(o){var e;o.done?n(o.value):(e=o.value,e instanceof t?e:new t((function(o){o(e)}))).then(a,c)}s((i=i.apply(o,e||[])).next())}))};import*as dom from"../../../../base/browser/dom.js";import{Action,Separator}from"../../../../base/common/actions.js";import{CancellationToken}from"../../../../base/common/cancellation.js";import{EditorExtensionsRegistry}from"../../../browser/editorExtensions.js";import{Range}from"../../../common/core/range.js";import{ITextModelService}from"../../../common/services/resolverService.js";import{DefinitionAction,SymbolNavigationAction,SymbolNavigationAnchor}from"../../gotoSymbol/browser/goToCommands.js";import{PeekContext}from"../../peekView/browser/peekView.js";import{isIMenuItem,MenuId,MenuRegistry}from"../../../../platform/actions/common/actions.js";import{ICommandService}from"../../../../platform/commands/common/commands.js";import{IContextKeyService}from"../../../../platform/contextkey/common/contextkey.js";import{IContextMenuService}from"../../../../platform/contextview/browser/contextView.js";import{IInstantiationService}from"../../../../platform/instantiation/common/instantiation.js";import{INotificationService,Severity}from"../../../../platform/notification/common/notification.js";export function showGoToContextMenu(o,e,t,i){var n;return __awaiter(this,void 0,void 0,(function*(){const r=o.get(ITextModelService),a=o.get(IContextMenuService),c=o.get(ICommandService),s=o.get(IInstantiationService),m=o.get(INotificationService);if(yield i.item.resolve(CancellationToken.None),!i.part.location)return;const d=i.part.location,l=[],f=new Set(MenuRegistry.getMenuItems(MenuId.EditorContext).map((o=>isIMenuItem(o)?o.command.id:"")));for(const o of EditorExtensionsRegistry.getEditorActions())o instanceof SymbolNavigationAction&&f.has(o.id)&&l.push(new Action(o.id,o.label,void 0,!0,(()=>__awaiter(this,void 0,void 0,(function*(){const t=yield r.createModelReference(d.uri);try{yield s.invokeFunction(o.run.bind(o),e,new SymbolNavigationAnchor(t.object.textEditorModel,Range.getStartPosition(d.range)))}finally{t.dispose()}})))));if(i.part.command){const{command:o}=i.part;l.push(new Separator),l.push(new Action(o.id,o.title,void 0,!0,(()=>__awaiter(this,void 0,void 0,(function*(){var e;try{yield c.executeCommand(o.id,...null!==(e=o.arguments)&&void 0!==e?e:[])}catch(o){m.notify({severity:Severity.Error,source:i.item.provider.displayName,message:o})}})))))}const v=e.getOption(115);a.showContextMenu({domForShadowRoot:v&&null!==(n=e.getDomNode())&&void 0!==n?n:void 0,getAnchor:()=>{const o=dom.getDomNodePagePosition(t);return{x:o.left,y:o.top+o.height+8}},getActions:()=>l,onHide:()=>{e.focus()},autoSelectFirstItem:!0})}))}export function goToDefinitionWithLocation(o,e,t,i){return __awaiter(this,void 0,void 0,(function*(){const n=o.get(ITextModelService),r=yield n.createModelReference(i.uri);yield t.invokeWithinContext((o=>__awaiter(this,void 0,void 0,(function*(){const n=e.hasSideBySideModifier,a=o.get(IContextKeyService),c=PeekContext.inPeekEditor.getValue(a),s=!n&&t.getOption(78)&&!c;return new DefinitionAction({openToSide:n,openInPeek:s,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(o,t,{model:r.object.textEditorModel,position:Range.getStartPosition(i.range)})})))),r.dispose()}))}
//# sourceMappingURL=/sm/cf2c9e1887ecae317c388f88651e6fb562cab51ce5d8bb97b5666fe836c3b668.map