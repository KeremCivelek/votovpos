/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/editor/contrib/suggest/wordDistance.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __awaiter=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,s)}c((r=r.apply(e,n||[])).next())}))};import{binarySearch,isFalsyOrEmpty}from"../../../base/common/arrays.js";import{Range}from"../../common/core/range.js";import{BracketSelectionRangeProvider}from"../smartSelect/bracketSelections.js";export class WordDistance{static create(e,n){return __awaiter(this,void 0,void 0,(function*(){if(!n.getOption(105).localityBonus)return WordDistance.None;if(!n.hasModel())return WordDistance.None;const t=n.getModel(),r=n.getPosition();if(!e.canComputeWordRanges(t.uri))return WordDistance.None;const[o]=yield(new BracketSelectionRangeProvider).provideSelectionRanges(t,[r]);if(0===o.length)return WordDistance.None;const a=yield e.computeWordRanges(t.uri,o[0].range);if(!a)return WordDistance.None;const i=t.getWordUntilPosition(r);return delete a[i.word],new class extends WordDistance{distance(e,t){if(!r.equals(n.getPosition()))return 0;if(17===t.kind)return 2<<20;let i="string"==typeof t.label?t.label:t.label.label,s=a[i];if(isFalsyOrEmpty(s))return 2<<20;let c=binarySearch(s,Range.fromPositions(e),Range.compareRangesUsingStarts),l=c>=0?s[c]:s[Math.max(0,~c-1)],d=o.length;for(const e of o){if(!Range.containsRange(e.range,l))break;d-=1}return d}}}))}}WordDistance.None=new class extends WordDistance{distance(){return 0}};
//# sourceMappingURL=/sm/601116cbdf36bb7b79d7e54778fcc337bcb700162e84296ea82534614e221f11.map