/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/monaco-editor@0.33.0/esm/vs/editor/contrib/clipboard/browser/clipboard.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __awaiter=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))((function(n,r){function a(t){try{c(i.next(t))}catch(t){r(t)}}function d(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,d)}c((i=i.apply(t,e||[])).next())}))};import*as browser from"../../../../base/browser/browser.js";import*as platform from"../../../../base/common/platform.js";import{CopyOptions,InMemoryClipboardMetadataManager}from"../../../browser/controller/textAreaInput.js";import{EditorAction,MultiCommand,registerEditorAction}from"../../../browser/editorExtensions.js";import{ICodeEditorService}from"../../../browser/services/codeEditorService.js";import{EditorContextKeys}from"../../../common/editorContextKeys.js";import*as nls from"../../../../nls.js";import{MenuId,MenuRegistry}from"../../../../platform/actions/common/actions.js";import{IClipboardService}from"../../../../platform/clipboard/common/clipboardService.js";const CLIPBOARD_CONTEXT_MENU_GROUP="9_cutcopypaste",supportsCut=platform.isNative||document.queryCommandSupported("cut"),supportsCopy=platform.isNative||document.queryCommandSupported("copy"),supportsPaste=void 0!==navigator.clipboard&&!browser.isFirefox||document.queryCommandSupported("paste");function registerCommand(t){return t.register(),t}export const CutAction=supportsCut?registerCommand(new MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:platform.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:MenuId.MenubarEditMenu,group:"2_ccp",title:nls.localize({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:MenuId.EditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.cutLabel","Cut"),when:EditorContextKeys.writable,order:1},{menuId:MenuId.CommandPalette,group:"",title:nls.localize("actions.clipboard.cutLabel","Cut"),order:1},{menuId:MenuId.SimpleEditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.cutLabel","Cut"),when:EditorContextKeys.writable,order:1}]})):void 0;export const CopyAction=supportsCopy?registerCommand(new MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:platform.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:MenuId.MenubarEditMenu,group:"2_ccp",title:nls.localize({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:MenuId.EditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.copyLabel","Copy"),order:2},{menuId:MenuId.CommandPalette,group:"",title:nls.localize("actions.clipboard.copyLabel","Copy"),order:1},{menuId:MenuId.SimpleEditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;MenuRegistry.appendMenuItem(MenuId.MenubarEditMenu,{submenu:MenuId.MenubarCopy,title:{value:nls.localize("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),MenuRegistry.appendMenuItem(MenuId.EditorContext,{submenu:MenuId.EditorContextCopy,title:{value:nls.localize("copy as","Copy As"),original:"Copy As"},group:"9_cutcopypaste",order:3});export const PasteAction=supportsPaste?registerCommand(new MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:platform.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:MenuId.MenubarEditMenu,group:"2_ccp",title:nls.localize({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:MenuId.EditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.pasteLabel","Paste"),when:EditorContextKeys.writable,order:4},{menuId:MenuId.CommandPalette,group:"",title:nls.localize("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:MenuId.SimpleEditorContext,group:"9_cutcopypaste",title:nls.localize("actions.clipboard.pasteLabel","Paste"),when:EditorContextKeys.writable,order:4}]})):void 0;class ExecCommandCopyWithSyntaxHighlightingAction extends EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:nls.localize("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,e){if(!e.hasModel())return;!e.getOption(32)&&e.getSelection().isEmpty()||(CopyOptions.forceCopyWithSyntaxHighlighting=!0,e.focus(),document.execCommand("copy"),CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function registerExecCommandImpl(t,e){t&&(t.addImplementation(1e4,"code-editor",((t,o)=>{const i=t.get(ICodeEditorService).getFocusedCodeEditor();if(i&&i.hasTextFocus()){const t=i.getOption(32),o=i.getSelection();return o&&o.isEmpty()&&!t||document.execCommand(e),!0}return!1})),t.addImplementation(0,"generic-dom",((t,o)=>(document.execCommand(e),!0))))}registerExecCommandImpl(CutAction,"cut"),registerExecCommandImpl(CopyAction,"copy"),PasteAction&&(PasteAction.addImplementation(1e4,"code-editor",((t,e)=>{const o=t.get(ICodeEditorService),i=t.get(IClipboardService),n=o.getFocusedCodeEditor();if(n&&n.hasTextFocus()){return!(!document.execCommand("paste")&&platform.isWeb)||__awaiter(void 0,void 0,void 0,(function*(){const t=yield i.readText();if(""!==t){const e=InMemoryClipboardMetadataManager.INSTANCE.get(t);let o=!1,i=null,r=null;e&&(o=n.getOption(32)&&!!e.isFromEmptySelection,i=void 0!==e.multicursorText?e.multicursorText:null,r=e.mode),n.trigger("keyboard","paste",{text:t,pasteOnNewLine:o,multicursorText:i,mode:r})}}))}return!1})),PasteAction.addImplementation(0,"generic-dom",((t,e)=>(document.execCommand("paste"),!0)))),supportsCopy&&registerEditorAction(ExecCommandCopyWithSyntaxHighlightingAction);
//# sourceMappingURL=/sm/5f737791ca91b6276353b7afd8bc7f07c58afbbc6b09fe4c8074c74cc3ea66f2.map