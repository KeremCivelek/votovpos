/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/editor/common/modes/linkComputer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{CharacterClassifier}from"../core/characterClassifier.js";export class Uint8Matrix{constructor(e,t,a){const s=new Uint8Array(e*t);for(let r=0,n=e*t;r<n;r++)s[r]=a;this._data=s,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,a){this._data[e*this.cols+t]=a}}export class StateMachine{constructor(e){let t=0,a=0;for(let s=0,r=e.length;s<r;s++){let[r,n,i]=e[s];n>t&&(t=n),r>a&&(a=r),i>a&&(a=i)}t++,a++;let s=new Uint8Matrix(a,t,0);for(let t=0,a=e.length;t<a;t++){let[a,r,n]=e[t];s.set(a,r,n)}this._states=s,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let _stateMachine=null;function getStateMachine(){return null===_stateMachine&&(_stateMachine=new StateMachine([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_stateMachine}let _classifier=null;function getClassifier(){if(null===_classifier){_classifier=new CharacterClassifier(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let t=0;t<e.length;t++)_classifier.set(e.charCodeAt(t),1);const t=".,;";for(let e=0;e<t.length;e++)_classifier.set(t.charCodeAt(e),2)}return _classifier}export class LinkComputer{static _createLink(e,t,a,s,r){let n=r-1;do{const a=t.charCodeAt(n);if(2!==e.get(a))break;n--}while(n>s);if(s>0){const e=t.charCodeAt(s-1),a=t.charCodeAt(n);(40===e&&41===a||91===e&&93===a||123===e&&125===a)&&n--}return{range:{startLineNumber:a,startColumn:s+1,endLineNumber:a,endColumn:n+2},url:t.substring(s,n+1)}}static computeLinks(e,t=getStateMachine()){const a=getClassifier();let s=[];for(let r=1,n=e.getLineCount();r<=n;r++){const n=e.getLineContent(r),i=n.length;let c=0,o=0,l=0,h=1,u=!1,f=!1,C=!1,k=!1;for(;c<i;){let e=!1;const i=n.charCodeAt(c);if(13===h){let t;switch(i){case 40:u=!0,t=0;break;case 41:t=u?0:1;break;case 91:C=!0,f=!0,t=0;break;case 93:C=!1,t=f?0:1;break;case 123:k=!0,t=0;break;case 125:t=k?0:1;break;case 39:t=34===l||96===l?0:1;break;case 34:t=39===l||96===l?0:1;break;case 96:t=39===l||34===l?0:1;break;case 42:t=42===l?1:0;break;case 124:t=124===l?1:0;break;case 32:t=C?0:1;break;default:t=a.get(i)}1===t&&(s.push(LinkComputer._createLink(a,n,r,o,c)),e=!0)}else if(12===h){let t;91===i?(f=!0,t=0):t=a.get(i),1===t?e=!0:h=13}else h=t.nextState(h,i),0===h&&(e=!0);e&&(h=1,u=!1,f=!1,k=!1,o=c+1,l=i),c++}13===h&&s.push(LinkComputer._createLink(a,n,r,o,i))}return s}}export function computeLinks(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?LinkComputer.computeLinks(e):[]}
//# sourceMappingURL=/sm/853e07aca7f87306f7ba8d35025d6602298dc3751af115188b73d4da2e2200da.map