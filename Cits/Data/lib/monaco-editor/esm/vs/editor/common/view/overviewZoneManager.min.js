/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/editor/common/view/overviewZoneManager.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
export class ColorZone{constructor(t,o,e){this._colorZoneBrand=void 0,this.from=0|t,this.to=0|o,this.colorId=0|e}static compare(t,o){return t.colorId===o.colorId?t.from===o.from?t.to-o.to:t.from-o.from:t.colorId-o.colorId}}export class OverviewRulerZone{constructor(t,o,e){this._overviewRulerZoneBrand=void 0,this.startLineNumber=t,this.endLineNumber=o,this.color=e,this._colorZone=null}static compare(t,o){return t.color===o.color?t.startLineNumber===o.startLineNumber?t.endLineNumber-o.endLineNumber:t.startLineNumber-o.startLineNumber:t.color<o.color?-1:1}setColorZone(t){this._colorZone=t}getColorZones(){return this._colorZone}}export class OverviewZoneManager{constructor(t){this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(t){this._zones=t,this._zones.sort(OverviewRulerZone.compare)}setLineHeight(t){return this._lineHeight!==t&&(this._lineHeight=t,this._colorZonesInvalid=!0,!0)}setPixelRatio(t){this._pixelRatio=t,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(t){return this._domWidth!==t&&(this._domWidth=t,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(t){return this._domHeight!==t&&(this._domHeight=t,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(t){return this._outerHeight!==t&&(this._outerHeight=t,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const t=this._colorZonesInvalid,o=Math.floor(this._lineHeight),e=Math.floor(this.getCanvasHeight()),i=e/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2);let s=[];for(let h=0,n=this._zones.length;h<n;h++){const n=this._zones[h];if(!t){const t=n.getColorZones();if(t){s.push(t);continue}}const l=Math.floor(i*this._getVerticalOffsetForLine(n.startLineNumber)),c=Math.floor(i*(this._getVerticalOffsetForLine(n.endLineNumber)+o));let _=Math.floor((l+c)/2),a=c-_;a<r&&(a=r),_-a<0&&(_=a),_+a>e&&(_=e-a);const d=n.color;let u=this._color2Id[d];u||(u=++this._lastAssignedId,this._color2Id[d]=u,this._id2Color[u]=d);const g=new ColorZone(_-a,_+a,u);n.setColorZone(g),s.push(g)}return this._colorZonesInvalid=!1,s.sort(ColorZone.compare),s}}
//# sourceMappingURL=/sm/576f5cbbb440c5f5edcf8e587c988b7fa04c63f1c618f6eb61560b7a01d28eff.map