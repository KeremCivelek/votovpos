/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/monaco-editor@0.33.0/esm/vs/editor/common/model/bracketPairsTextModelPart/fixBrackets.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{LanguageAgnosticBracketTokens}from"./bracketPairsTree/brackets.js";import{lengthAdd,lengthGetColumnCountIfZeroLineCount,lengthZero}from"./bracketPairsTree/length.js";import{parseDocument}from"./bracketPairsTree/parser.js";import{DenseKeyProvider}from"./bracketPairsTree/smallImmutableSet.js";import{TextBufferTokenizer}from"./bracketPairsTree/tokenizer.js";export function fixBracketsInLine(e,n){const t=new DenseKeyProvider,r=new LanguageAgnosticBracketTokens(t,(e=>n.getLanguageConfiguration(e))),i=new TextBufferTokenizer(new StaticTokenizerSource([e]),r),o=parseDocument(i,[],void 0,!0);let g="";const s=e.getLineContent();return function e(n,t){if(2===n.kind)if(e(n.openingBracket,t),t=lengthAdd(t,n.openingBracket.length),n.child&&(e(n.child,t),t=lengthAdd(t,n.child.length)),n.closingBracket)e(n.closingBracket,t),t=lengthAdd(t,n.closingBracket.length);else{const e=r.getSingleLanguageBracketTokens(n.openingBracket.languageId).findClosingTokenText(n.openingBracket.bracketIds);g+=e}else if(3===n.kind);else if(0===n.kind||1===n.kind)g+=s.substring(lengthGetColumnCountIfZeroLineCount(t),lengthGetColumnCountIfZeroLineCount(lengthAdd(t,n.length)));else if(4===n.kind)for(const r of n.children)e(r,t),t=lengthAdd(t,r.length)}(o,lengthZero),g}class StaticTokenizerSource{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}}
//# sourceMappingURL=/sm/345bcd2100b13f6742d06910efaea2a9d7a847d6b347815ce79a8471015b4fc1.map