/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssParser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();import*as scssScanner from"./scssScanner.js";import{TokenType}from"./cssScanner.js";import*as cssParser from"./cssParser.js";import*as nodes from"./cssNodes.js";import{SCSSParseError}from"./scssErrors.js";import{ParseError}from"./cssErrors.js";var SCSSParser=function(e){function t(){return e.call(this,new scssScanner.SCSSScanner)||this}return __extends(t,e),t.prototype._parseStylesheetStatement=function(t){return void 0===t&&(t=!1),this.peek(TokenType.AtKeyword)?this._parseWarnAndDebug()||this._parseControlStatement()||this._parseMixinDeclaration()||this._parseMixinContent()||this._parseMixinReference()||this._parseFunctionDeclaration()||this._parseForward()||this._parseUse()||this._parseRuleset(t)||e.prototype._parseStylesheetAtStatement.call(this,t):this._parseRuleset(!0)||this._parseVariableDeclaration()},t.prototype._parseImport=function(){if(!this.peekKeyword("@import"))return null;var e=this.create(nodes.Import);if(this.consumeToken(),!e.addChild(this._parseURILiteral())&&!e.addChild(this._parseStringLiteral()))return this.finish(e,ParseError.URIOrStringExpected);for(;this.accept(TokenType.Comma);)if(!e.addChild(this._parseURILiteral())&&!e.addChild(this._parseStringLiteral()))return this.finish(e,ParseError.URIOrStringExpected);return this.peek(TokenType.SemiColon)||this.peek(TokenType.EOF)||e.setMedialist(this._parseMediaQueryList()),this.finish(e)},t.prototype._parseVariableDeclaration=function(e){if(void 0===e&&(e=[]),!this.peek(scssScanner.VariableName))return null;var t=this.create(nodes.VariableDeclaration);if(!t.setVariable(this._parseVariable()))return null;if(!this.accept(TokenType.Colon))return this.finish(t,ParseError.ColonExpected);if(this.prevToken&&(t.colonPosition=this.prevToken.offset),!t.setValue(this._parseExpr()))return this.finish(t,ParseError.VariableValueExpected,[],e);for(;this.peek(TokenType.Exclamation);)if(t.addChild(this._tryParsePrio()));else{if(this.consumeToken(),!this.peekRegExp(TokenType.Ident,/^(default|global)$/))return this.finish(t,ParseError.UnknownKeyword);this.consumeToken()}return this.peek(TokenType.SemiColon)&&(t.semicolonPosition=this.token.offset),this.finish(t)},t.prototype._parseMediaContentStart=function(){return this._parseInterpolation()},t.prototype._parseMediaFeatureName=function(){return this._parseModuleMember()||this._parseFunction()||this._parseIdent()||this._parseVariable()},t.prototype._parseKeyframeSelector=function(){return this._tryParseKeyframeSelector()||this._parseControlStatement(this._parseKeyframeSelector.bind(this))||this._parseVariableDeclaration()||this._parseMixinContent()},t.prototype._parseVariable=function(){if(!this.peek(scssScanner.VariableName))return null;var e=this.create(nodes.Variable);return this.consumeToken(),e},t.prototype._parseModuleMember=function(){var e=this.mark(),t=this.create(nodes.Module);return t.setIdentifier(this._parseIdent([nodes.ReferenceType.Module]))?this.hasWhitespace()||!this.acceptDelim(".")||this.hasWhitespace()?(this.restoreAtMark(e),null):t.addChild(this._parseVariable()||this._parseFunction())?t:this.finish(t,ParseError.IdentifierOrVariableExpected):null},t.prototype._parseIdent=function(e){var t=this;if(!this.peek(TokenType.Ident)&&!this.peek(scssScanner.InterpolationFunction)&&!this.peekDelim("-"))return null;var r=this.create(nodes.Identifier);r.referenceTypes=e,r.isCustomProperty=this.peekRegExp(TokenType.Ident,/^--/);for(var i,s=!1;(this.accept(TokenType.Ident)||r.addChild((i=void 0,i=t.mark(),t.acceptDelim("-")&&(t.hasWhitespace()||t.acceptDelim("-"),t.hasWhitespace())?(t.restoreAtMark(i),null):t._parseInterpolation()))||s&&this.acceptRegexp(/^[\w-]/))&&(s=!0,!this.hasWhitespace()););return s?this.finish(r):null},t.prototype._parseTermExpression=function(){return this._parseModuleMember()||this._parseVariable()||this._parseSelectorCombinator()||e.prototype._parseTermExpression.call(this)},t.prototype._parseInterpolation=function(){if(this.peek(scssScanner.InterpolationFunction)){var e=this.create(nodes.Interpolation);return this.consumeToken(),e.addChild(this._parseExpr())||this._parseSelectorCombinator()?this.accept(TokenType.CurlyR)?this.finish(e):this.finish(e,ParseError.RightCurlyExpected):this.accept(TokenType.CurlyR)?this.finish(e):this.finish(e,ParseError.ExpressionExpected)}return null},t.prototype._parseOperator=function(){if(this.peek(scssScanner.EqualsOperator)||this.peek(scssScanner.NotEqualsOperator)||this.peek(scssScanner.GreaterEqualsOperator)||this.peek(scssScanner.SmallerEqualsOperator)||this.peekDelim(">")||this.peekDelim("<")||this.peekIdent("and")||this.peekIdent("or")||this.peekDelim("%")){var t=this.createNode(nodes.NodeType.Operator);return this.consumeToken(),this.finish(t)}return e.prototype._parseOperator.call(this)},t.prototype._parseUnaryOperator=function(){if(this.peekIdent("not")){var t=this.create(nodes.Node);return this.consumeToken(),this.finish(t)}return e.prototype._parseUnaryOperator.call(this)},t.prototype._parseRuleSetDeclaration=function(){return this.peek(TokenType.AtKeyword)?this._parseKeyframe()||this._parseImport()||this._parseMedia(!0)||this._parseFontFace()||this._parseWarnAndDebug()||this._parseControlStatement()||this._parseFunctionDeclaration()||this._parseExtends()||this._parseMixinReference()||this._parseMixinContent()||this._parseMixinDeclaration()||this._parseRuleset(!0)||this._parseSupports(!0)||e.prototype._parseRuleSetDeclarationAtStatement.call(this):this._parseVariableDeclaration()||this._tryParseRuleset(!0)||e.prototype._parseRuleSetDeclaration.call(this)},t.prototype._parseDeclaration=function(e){var t=this._tryParseCustomPropertyDeclaration(e);if(t)return t;var r=this.create(nodes.Declaration);if(!r.setProperty(this._parseProperty()))return null;if(!this.accept(TokenType.Colon))return this.finish(r,ParseError.ColonExpected,[TokenType.Colon],e||[TokenType.SemiColon]);this.prevToken&&(r.colonPosition=this.prevToken.offset);var i=!1;if(r.setValue(this._parseExpr())&&(i=!0,r.addChild(this._parsePrio())),this.peek(TokenType.CurlyL))r.setNestedProperties(this._parseNestedProperties());else if(!i)return this.finish(r,ParseError.PropertyValueExpected);return this.peek(TokenType.SemiColon)&&(r.semicolonPosition=this.token.offset),this.finish(r)},t.prototype._parseNestedProperties=function(){var e=this.create(nodes.NestedProperties);return this._parseBody(e,this._parseDeclaration.bind(this))},t.prototype._parseExtends=function(){if(this.peekKeyword("@extend")){var e=this.create(nodes.ExtendsReference);if(this.consumeToken(),!e.getSelectors().addChild(this._parseSimpleSelector()))return this.finish(e,ParseError.SelectorExpected);for(;this.accept(TokenType.Comma);)e.getSelectors().addChild(this._parseSimpleSelector());return this.accept(TokenType.Exclamation)&&!this.acceptIdent("optional")?this.finish(e,ParseError.UnknownKeyword):this.finish(e)}return null},t.prototype._parseSimpleSelectorBody=function(){return this._parseSelectorCombinator()||this._parseSelectorPlaceholder()||e.prototype._parseSimpleSelectorBody.call(this)},t.prototype._parseSelectorCombinator=function(){if(this.peekDelim("&")){var e=this.createNode(nodes.NodeType.SelectorCombinator);for(this.consumeToken();!this.hasWhitespace()&&(this.acceptDelim("-")||this.accept(TokenType.Num)||this.accept(TokenType.Dimension)||e.addChild(this._parseIdent())||this.acceptDelim("&")););return this.finish(e)}return null},t.prototype._parseSelectorPlaceholder=function(){if(this.peekDelim("%")){var e=this.createNode(nodes.NodeType.SelectorPlaceholder);return this.consumeToken(),this._parseIdent(),this.finish(e)}if(this.peekKeyword("@at-root")){e=this.createNode(nodes.NodeType.SelectorPlaceholder);return this.consumeToken(),this.finish(e)}return null},t.prototype._parseElementName=function(){var t=this.mark(),r=e.prototype._parseElementName.call(this);return r&&!this.hasWhitespace()&&this.peek(TokenType.ParenthesisL)?(this.restoreAtMark(t),null):r},t.prototype._tryParsePseudoIdentifier=function(){return this._parseInterpolation()||e.prototype._tryParsePseudoIdentifier.call(this)},t.prototype._parseWarnAndDebug=function(){if(!this.peekKeyword("@debug")&&!this.peekKeyword("@warn")&&!this.peekKeyword("@error"))return null;var e=this.createNode(nodes.NodeType.Debug);return this.consumeToken(),e.addChild(this._parseExpr()),this.finish(e)},t.prototype._parseControlStatement=function(e){return void 0===e&&(e=this._parseRuleSetDeclaration.bind(this)),this.peek(TokenType.AtKeyword)?this._parseIfStatement(e)||this._parseForStatement(e)||this._parseEachStatement(e)||this._parseWhileStatement(e):null},t.prototype._parseIfStatement=function(e){return this.peekKeyword("@if")?this._internalParseIfStatement(e):null},t.prototype._internalParseIfStatement=function(e){var t=this.create(nodes.IfStatement);if(this.consumeToken(),!t.setExpression(this._parseExpr(!0)))return this.finish(t,ParseError.ExpressionExpected);if(this._parseBody(t,e),this.acceptKeyword("@else"))if(this.peekIdent("if"))t.setElseClause(this._internalParseIfStatement(e));else if(this.peek(TokenType.CurlyL)){var r=this.create(nodes.ElseStatement);this._parseBody(r,e),t.setElseClause(r)}return this.finish(t)},t.prototype._parseForStatement=function(e){if(!this.peekKeyword("@for"))return null;var t=this.create(nodes.ForStatement);return this.consumeToken(),t.setVariable(this._parseVariable())?this.acceptIdent("from")?t.addChild(this._parseBinaryExpr())?this.acceptIdent("to")||this.acceptIdent("through")?t.addChild(this._parseBinaryExpr())?this._parseBody(t,e):this.finish(t,ParseError.ExpressionExpected,[TokenType.CurlyR]):this.finish(t,SCSSParseError.ThroughOrToExpected,[TokenType.CurlyR]):this.finish(t,ParseError.ExpressionExpected,[TokenType.CurlyR]):this.finish(t,SCSSParseError.FromExpected,[TokenType.CurlyR]):this.finish(t,ParseError.VariableNameExpected,[TokenType.CurlyR])},t.prototype._parseEachStatement=function(e){if(!this.peekKeyword("@each"))return null;var t=this.create(nodes.EachStatement);this.consumeToken();var r=t.getVariables();if(!r.addChild(this._parseVariable()))return this.finish(t,ParseError.VariableNameExpected,[TokenType.CurlyR]);for(;this.accept(TokenType.Comma);)if(!r.addChild(this._parseVariable()))return this.finish(t,ParseError.VariableNameExpected,[TokenType.CurlyR]);return this.finish(r),this.acceptIdent("in")?t.addChild(this._parseExpr())?this._parseBody(t,e):this.finish(t,ParseError.ExpressionExpected,[TokenType.CurlyR]):this.finish(t,SCSSParseError.InExpected,[TokenType.CurlyR])},t.prototype._parseWhileStatement=function(e){if(!this.peekKeyword("@while"))return null;var t=this.create(nodes.WhileStatement);return this.consumeToken(),t.addChild(this._parseBinaryExpr())?this._parseBody(t,e):this.finish(t,ParseError.ExpressionExpected,[TokenType.CurlyR])},t.prototype._parseFunctionBodyDeclaration=function(){return this._parseVariableDeclaration()||this._parseReturnStatement()||this._parseWarnAndDebug()||this._parseControlStatement(this._parseFunctionBodyDeclaration.bind(this))},t.prototype._parseFunctionDeclaration=function(){if(!this.peekKeyword("@function"))return null;var e=this.create(nodes.FunctionDeclaration);if(this.consumeToken(),!e.setIdentifier(this._parseIdent([nodes.ReferenceType.Function])))return this.finish(e,ParseError.IdentifierExpected,[TokenType.CurlyR]);if(!this.accept(TokenType.ParenthesisL))return this.finish(e,ParseError.LeftParenthesisExpected,[TokenType.CurlyR]);if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,ParseError.VariableNameExpected);return this.accept(TokenType.ParenthesisR)?this._parseBody(e,this._parseFunctionBodyDeclaration.bind(this)):this.finish(e,ParseError.RightParenthesisExpected,[TokenType.CurlyR])},t.prototype._parseReturnStatement=function(){if(!this.peekKeyword("@return"))return null;var e=this.createNode(nodes.NodeType.ReturnStatement);return this.consumeToken(),e.addChild(this._parseExpr())?this.finish(e):this.finish(e,ParseError.ExpressionExpected)},t.prototype._parseMixinDeclaration=function(){if(!this.peekKeyword("@mixin"))return null;var e=this.create(nodes.MixinDeclaration);if(this.consumeToken(),!e.setIdentifier(this._parseIdent([nodes.ReferenceType.Mixin])))return this.finish(e,ParseError.IdentifierExpected,[TokenType.CurlyR]);if(this.accept(TokenType.ParenthesisL)){if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,ParseError.VariableNameExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected,[TokenType.CurlyR])}return this._parseBody(e,this._parseRuleSetDeclaration.bind(this))},t.prototype._parseParameterDeclaration=function(){var e=this.create(nodes.FunctionParameter);return e.setIdentifier(this._parseVariable())?(this.accept(scssScanner.Ellipsis),this.accept(TokenType.Colon)&&!e.setDefaultValue(this._parseExpr(!0))?this.finish(e,ParseError.VariableValueExpected,[],[TokenType.Comma,TokenType.ParenthesisR]):this.finish(e)):null},t.prototype._parseMixinContent=function(){if(!this.peekKeyword("@content"))return null;var e=this.create(nodes.MixinContentReference);if(this.consumeToken(),this.accept(TokenType.ParenthesisL)){if(e.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getArguments().addChild(this._parseFunctionArgument()))return this.finish(e,ParseError.ExpressionExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected)}return this.finish(e)},t.prototype._parseMixinReference=function(){if(!this.peekKeyword("@include"))return null;var e=this.create(nodes.MixinReference);this.consumeToken();var t=this._parseIdent([nodes.ReferenceType.Mixin]);if(!e.setIdentifier(t))return this.finish(e,ParseError.IdentifierExpected,[TokenType.CurlyR]);if(!this.hasWhitespace()&&this.acceptDelim(".")&&!this.hasWhitespace()){var r=this._parseIdent([nodes.ReferenceType.Mixin]);if(!r)return this.finish(e,ParseError.IdentifierExpected,[TokenType.CurlyR]);var i=this.create(nodes.Module);t.referenceTypes=[nodes.ReferenceType.Module],i.setIdentifier(t),e.setIdentifier(r),e.addChild(i)}if(this.accept(TokenType.ParenthesisL)){if(e.getArguments().addChild(this._parseFunctionArgument()))for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getArguments().addChild(this._parseFunctionArgument()))return this.finish(e,ParseError.ExpressionExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected)}return(this.peekIdent("using")||this.peek(TokenType.CurlyL))&&e.setContent(this._parseMixinContentDeclaration()),this.finish(e)},t.prototype._parseMixinContentDeclaration=function(){var e=this.create(nodes.MixinContentDeclaration);if(this.acceptIdent("using")){if(!this.accept(TokenType.ParenthesisL))return this.finish(e,ParseError.LeftParenthesisExpected,[TokenType.CurlyL]);if(e.getParameters().addChild(this._parseParameterDeclaration()))for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getParameters().addChild(this._parseParameterDeclaration()))return this.finish(e,ParseError.VariableNameExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected,[TokenType.CurlyL])}return this.peek(TokenType.CurlyL)&&this._parseBody(e,this._parseMixinReferenceBodyStatement.bind(this)),this.finish(e)},t.prototype._parseMixinReferenceBodyStatement=function(){return this._tryParseKeyframeSelector()||this._parseRuleSetDeclaration()},t.prototype._parseFunctionArgument=function(){var e=this.create(nodes.FunctionArgument),t=this.mark(),r=this._parseVariable();if(r)if(this.accept(TokenType.Colon))e.setIdentifier(r);else{if(this.accept(scssScanner.Ellipsis))return e.setValue(r),this.finish(e);this.restoreAtMark(t)}return e.setValue(this._parseExpr(!0))?(this.accept(scssScanner.Ellipsis),e.addChild(this._parsePrio()),this.finish(e)):e.setValue(this._tryParsePrio())?this.finish(e):null},t.prototype._parseURLArgument=function(){var t=this.mark(),r=e.prototype._parseURLArgument.call(this);if(!r||!this.peek(TokenType.ParenthesisR)){this.restoreAtMark(t);var i=this.create(nodes.Node);return i.addChild(this._parseBinaryExpr()),this.finish(i)}return r},t.prototype._parseOperation=function(){if(!this.peek(TokenType.ParenthesisL))return null;var e=this.create(nodes.Node);for(this.consumeToken();e.addChild(this._parseListElement());)this.accept(TokenType.Comma);return this.accept(TokenType.ParenthesisR)?this.finish(e):this.finish(e,ParseError.RightParenthesisExpected)},t.prototype._parseListElement=function(){var e=this.create(nodes.ListEntry),t=this._parseBinaryExpr();if(!t)return null;if(this.accept(TokenType.Colon)){if(e.setKey(t),!e.setValue(this._parseBinaryExpr()))return this.finish(e,ParseError.ExpressionExpected)}else e.setValue(t);return this.finish(e)},t.prototype._parseUse=function(){if(!this.peekKeyword("@use"))return null;var e=this.create(nodes.Use);if(this.consumeToken(),!e.addChild(this._parseStringLiteral()))return this.finish(e,ParseError.StringLiteralExpected);if(!this.peek(TokenType.SemiColon)&&!this.peek(TokenType.EOF)){if(!this.peekRegExp(TokenType.Ident,/as|with/))return this.finish(e,ParseError.UnknownKeyword);if(this.acceptIdent("as")&&!e.setIdentifier(this._parseIdent([nodes.ReferenceType.Module]))&&!this.acceptDelim("*"))return this.finish(e,ParseError.IdentifierOrWildcardExpected);if(this.acceptIdent("with")){if(!this.accept(TokenType.ParenthesisL))return this.finish(e,ParseError.LeftParenthesisExpected,[TokenType.ParenthesisR]);if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,ParseError.VariableNameExpected);for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,ParseError.VariableNameExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected)}}return this.accept(TokenType.SemiColon)||this.accept(TokenType.EOF)?this.finish(e):this.finish(e,ParseError.SemiColonExpected)},t.prototype._parseModuleConfigDeclaration=function(){var e=this.create(nodes.ModuleConfiguration);return e.setIdentifier(this._parseVariable())?this.accept(TokenType.Colon)&&e.setValue(this._parseExpr(!0))?!this.accept(TokenType.Exclamation)||!this.hasWhitespace()&&this.acceptIdent("default")?this.finish(e):this.finish(e,ParseError.UnknownKeyword):this.finish(e,ParseError.VariableValueExpected,[],[TokenType.Comma,TokenType.ParenthesisR]):null},t.prototype._parseForward=function(){if(!this.peekKeyword("@forward"))return null;var e=this.create(nodes.Forward);if(this.consumeToken(),!e.addChild(this._parseStringLiteral()))return this.finish(e,ParseError.StringLiteralExpected);if(this.acceptIdent("with")){if(!this.accept(TokenType.ParenthesisL))return this.finish(e,ParseError.LeftParenthesisExpected,[TokenType.ParenthesisR]);if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,ParseError.VariableNameExpected);for(;this.accept(TokenType.Comma)&&!this.peek(TokenType.ParenthesisR);)if(!e.getParameters().addChild(this._parseModuleConfigDeclaration()))return this.finish(e,ParseError.VariableNameExpected);if(!this.accept(TokenType.ParenthesisR))return this.finish(e,ParseError.RightParenthesisExpected)}if(!this.peek(TokenType.SemiColon)&&!this.peek(TokenType.EOF)){if(!this.peekRegExp(TokenType.Ident,/as|hide|show/))return this.finish(e,ParseError.UnknownKeyword);if(this.acceptIdent("as")){var t=this._parseIdent([nodes.ReferenceType.Forward]);if(!e.setIdentifier(t))return this.finish(e,ParseError.IdentifierExpected);if(this.hasWhitespace()||!this.acceptDelim("*"))return this.finish(e,ParseError.WildcardExpected)}if((this.peekIdent("hide")||this.peekIdent("show"))&&!e.addChild(this._parseForwardVisibility()))return this.finish(e,ParseError.IdentifierOrVariableExpected)}return this.accept(TokenType.SemiColon)||this.accept(TokenType.EOF)?this.finish(e):this.finish(e,ParseError.SemiColonExpected)},t.prototype._parseForwardVisibility=function(){var e=this.create(nodes.ForwardVisibility);for(e.setIdentifier(this._parseIdent());e.addChild(this._parseVariable()||this._parseIdent());)this.accept(TokenType.Comma);return e.getChildren().length>1?e:null},t.prototype._parseSupportsCondition=function(){return this._parseInterpolation()||e.prototype._parseSupportsCondition.call(this)},t}(cssParser.Parser);export{SCSSParser};
//# sourceMappingURL=/sm/c3838d2015e1f25aa05eef0f75fa7411120cb861ad492bb7e2b5f70e336ec1ee.map