/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/css/languageFeatures.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as cssService from"./_deps/vscode-css-languageservice/cssLanguageService.js";import{languages,editor,Uri,Range,MarkerSeverity}from"./fillers/monaco-editor-core.js";var DiagnosticsAdapter=function(){function e(e,t,n){var r=this;this._languageId=e,this._worker=t,this._disposables=[],this._listener=Object.create(null);var i=function(e){var t,n=e.getModeId();n===r._languageId&&(r._listener[e.uri.toString()]=e.onDidChangeContent((function(){window.clearTimeout(t),t=window.setTimeout((function(){return r._doValidate(e.uri,n)}),500)})),r._doValidate(e.uri,n))},o=function(e){editor.setModelMarkers(e,r._languageId,[]);var t=e.uri.toString(),n=r._listener[t];n&&(n.dispose(),delete r._listener[t])};this._disposables.push(editor.onDidCreateModel(i)),this._disposables.push(editor.onWillDisposeModel(o)),this._disposables.push(editor.onDidChangeModelLanguage((function(e){o(e.model),i(e.model)}))),n.onDidChange((function(e){editor.getModels().forEach((function(e){e.getModeId()===r._languageId&&(o(e),i(e))}))})),this._disposables.push({dispose:function(){for(var e in r._listener)r._listener[e].dispose()}}),editor.getModels().forEach(i)}return e.prototype.dispose=function(){this._disposables.forEach((function(e){return e&&e.dispose()})),this._disposables=[]},e.prototype._doValidate=function(e,t){this._worker(e).then((function(t){return t.doValidation(e.toString())})).then((function(n){var r=n.map((function(t){return toDiagnostics(e,t)})),i=editor.getModel(e);i&&i.getModeId()===t&&editor.setModelMarkers(i,t,r)})).then(void 0,(function(e){console.error(e)}))},e}();export{DiagnosticsAdapter};function toSeverity(e){switch(e){case cssService.DiagnosticSeverity.Error:return MarkerSeverity.Error;case cssService.DiagnosticSeverity.Warning:return MarkerSeverity.Warning;case cssService.DiagnosticSeverity.Information:return MarkerSeverity.Info;case cssService.DiagnosticSeverity.Hint:return MarkerSeverity.Hint;default:return MarkerSeverity.Info}}function toDiagnostics(e,t){var n="number"==typeof t.code?String(t.code):t.code;return{severity:toSeverity(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:n,source:t.source}}function fromPosition(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function fromRange(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function toRange(e){if(e)return new Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function isInsertReplaceEdit(e){return void 0!==e.insert&&void 0!==e.replace}function toCompletionItemKind(e){var t=languages.CompletionItemKind;switch(e){case cssService.CompletionItemKind.Text:return t.Text;case cssService.CompletionItemKind.Method:return t.Method;case cssService.CompletionItemKind.Function:return t.Function;case cssService.CompletionItemKind.Constructor:return t.Constructor;case cssService.CompletionItemKind.Field:return t.Field;case cssService.CompletionItemKind.Variable:return t.Variable;case cssService.CompletionItemKind.Class:return t.Class;case cssService.CompletionItemKind.Interface:return t.Interface;case cssService.CompletionItemKind.Module:return t.Module;case cssService.CompletionItemKind.Property:return t.Property;case cssService.CompletionItemKind.Unit:return t.Unit;case cssService.CompletionItemKind.Value:return t.Value;case cssService.CompletionItemKind.Enum:return t.Enum;case cssService.CompletionItemKind.Keyword:return t.Keyword;case cssService.CompletionItemKind.Snippet:return t.Snippet;case cssService.CompletionItemKind.Color:return t.Color;case cssService.CompletionItemKind.File:return t.File;case cssService.CompletionItemKind.Reference:return t.Reference}return t.Property}function toTextEdit(e){if(e)return{range:toRange(e.range),text:e.newText}}function toCommand(e){return e&&"editor.action.triggerSuggest"===e.command?{id:e.command,title:e.title,arguments:e.arguments}:void 0}var CompletionAdapter=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!1,configurable:!0}),e.prototype.provideCompletionItems=function(e,t,n,r){var i=e.uri;return this._worker(i).then((function(e){return e.doComplete(i.toString(),fromPosition(t))})).then((function(n){if(n){var r=e.getWordUntilPosition(t),i=new Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),o=n.items.map((function(e){var t={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:toCommand(e.command),range:i,kind:toCompletionItemKind(e.kind)};return e.textEdit&&(isInsertReplaceEdit(e.textEdit)?t.range={insert:toRange(e.textEdit.insert),replace:toRange(e.textEdit.replace)}:t.range=toRange(e.textEdit.range),t.insertText=e.textEdit.newText),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(toTextEdit)),e.insertTextFormat===cssService.InsertTextFormat.Snippet&&(t.insertTextRules=languages.CompletionItemInsertTextRule.InsertAsSnippet),t}));return{isIncomplete:n.isIncomplete,suggestions:o}}}))},e}();export{CompletionAdapter};function isMarkupContent(e){return e&&"object"==typeof e&&"string"==typeof e.kind}function toMarkdownString(e){return"string"==typeof e?{value:e}:isMarkupContent(e)?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"}}function toMarkedStringArray(e){if(e)return Array.isArray(e)?e.map(toMarkdownString):[toMarkdownString(e)]}var HoverAdapter=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.doHover(r.toString(),fromPosition(t))})).then((function(e){if(e)return{range:toRange(e.range),contents:toMarkedStringArray(e.contents)}}))},e}();export{HoverAdapter};function toDocumentHighlightKind(e){switch(e){case cssService.DocumentHighlightKind.Read:return languages.DocumentHighlightKind.Read;case cssService.DocumentHighlightKind.Write:return languages.DocumentHighlightKind.Write;case cssService.DocumentHighlightKind.Text:return languages.DocumentHighlightKind.Text}return languages.DocumentHighlightKind.Text}var DocumentHighlightAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDocumentHighlights=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.findDocumentHighlights(r.toString(),fromPosition(t))})).then((function(e){if(e)return e.map((function(e){return{range:toRange(e.range),kind:toDocumentHighlightKind(e.kind)}}))}))},e}();export{DocumentHighlightAdapter};function toLocation(e){return{uri:Uri.parse(e.uri),range:toRange(e.range)}}var DefinitionAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDefinition=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.findDefinition(r.toString(),fromPosition(t))})).then((function(e){if(e)return[toLocation(e)]}))},e}();export{DefinitionAdapter};var ReferenceAdapter=function(){function e(e){this._worker=e}return e.prototype.provideReferences=function(e,t,n,r){var i=e.uri;return this._worker(i).then((function(e){return e.findReferences(i.toString(),fromPosition(t))})).then((function(e){if(e)return e.map(toLocation)}))},e}();export{ReferenceAdapter};function toWorkspaceEdit(e){if(e&&e.changes){var t=[];for(var n in e.changes)for(var r=Uri.parse(n),i=0,o=e.changes[n];i<o.length;i++){var a=o[i];t.push({resource:r,edit:{range:toRange(a.range),text:a.newText}})}return{edits:t}}}var RenameAdapter=function(){function e(e){this._worker=e}return e.prototype.provideRenameEdits=function(e,t,n,r){var i=e.uri;return this._worker(i).then((function(e){return e.doRename(i.toString(),fromPosition(t),n)})).then((function(e){return toWorkspaceEdit(e)}))},e}();export{RenameAdapter};function toSymbolKind(e){var t=languages.SymbolKind;switch(e){case cssService.SymbolKind.File:return t.Array;case cssService.SymbolKind.Module:return t.Module;case cssService.SymbolKind.Namespace:return t.Namespace;case cssService.SymbolKind.Package:return t.Package;case cssService.SymbolKind.Class:return t.Class;case cssService.SymbolKind.Method:return t.Method;case cssService.SymbolKind.Property:return t.Property;case cssService.SymbolKind.Field:return t.Field;case cssService.SymbolKind.Constructor:return t.Constructor;case cssService.SymbolKind.Enum:return t.Enum;case cssService.SymbolKind.Interface:return t.Interface;case cssService.SymbolKind.Function:return t.Function;case cssService.SymbolKind.Variable:return t.Variable;case cssService.SymbolKind.Constant:return t.Constant;case cssService.SymbolKind.String:return t.String;case cssService.SymbolKind.Number:return t.Number;case cssService.SymbolKind.Boolean:return t.Boolean;case cssService.SymbolKind.Array:return t.Array}return t.Function}var DocumentSymbolAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDocumentSymbols=function(e,t){var n=e.uri;return this._worker(n).then((function(e){return e.findDocumentSymbols(n.toString())})).then((function(e){if(e)return e.map((function(e){return{name:e.name,detail:"",containerName:e.containerName,kind:toSymbolKind(e.kind),tags:[],range:toRange(e.location.range),selectionRange:toRange(e.location.range)}}))}))},e}();export{DocumentSymbolAdapter};var DocumentColorAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDocumentColors=function(e,t){var n=e.uri;return this._worker(n).then((function(e){return e.findDocumentColors(n.toString())})).then((function(e){if(e)return e.map((function(e){return{color:e.color,range:toRange(e.range)}}))}))},e.prototype.provideColorPresentations=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.getColorPresentations(r.toString(),t.color,fromRange(t.range))})).then((function(e){if(e)return e.map((function(e){var t={label:e.label};return e.textEdit&&(t.textEdit=toTextEdit(e.textEdit)),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(toTextEdit)),t}))}))},e}();export{DocumentColorAdapter};var FoldingRangeAdapter=function(){function e(e){this._worker=e}return e.prototype.provideFoldingRanges=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.getFoldingRanges(r.toString(),t)})).then((function(e){if(e)return e.map((function(e){var t={start:e.startLine+1,end:e.endLine+1};return void 0!==e.kind&&(t.kind=toFoldingRangeKind(e.kind)),t}))}))},e}();export{FoldingRangeAdapter};function toFoldingRangeKind(e){switch(e){case cssService.FoldingRangeKind.Comment:return languages.FoldingRangeKind.Comment;case cssService.FoldingRangeKind.Imports:return languages.FoldingRangeKind.Imports;case cssService.FoldingRangeKind.Region:return languages.FoldingRangeKind.Region}}var SelectionRangeAdapter=function(){function e(e){this._worker=e}return e.prototype.provideSelectionRanges=function(e,t,n){var r=e.uri;return this._worker(r).then((function(e){return e.getSelectionRanges(r.toString(),t.map(fromPosition))})).then((function(e){if(e)return e.map((function(e){for(var t=[];e;)t.push({range:toRange(e.range)}),e=e.parent;return t}))}))},e}();export{SelectionRangeAdapter};
//# sourceMappingURL=/sm/2ae0a85f9eee6b9198efce6232a6d666ce20e4f97d559854ffe39702e77a2020.map