/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssHover.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import*as nodes from"../parser/cssNodes.js";import*as languageFacts from"../languageFacts/facts.js";import{SelectorPrinting}from"./selectorPrinting.js";import{startsWith}from"../utils/strings.js";import{Range,MarkupKind}from"../cssLanguageTypes.js";import{isDefined}from"../utils/objects.js";var CSSHover=function(){function t(t,e){this.clientCapabilities=t,this.cssDataManager=e,this.selectorPrinting=new SelectorPrinting(e)}return t.prototype.configure=function(t){this.defaultSettings=t},t.prototype.doHover=function(t,e,n,s){function r(e){return Range.create(t.positionAt(e.offset),t.positionAt(e.end))}void 0===s&&(s=this.defaultSettings);for(var o=t.offsetAt(e),i=nodes.getNodePath(n,o),a=null,c=0;c<i.length;c++){var p=i[c];if(p instanceof nodes.Selector){a={contents:this.selectorPrinting.selectorToMarkedString(p),range:r(p)};break}if(p instanceof nodes.SimpleSelector){startsWith(p.getText(),"@")||(a={contents:this.selectorPrinting.simpleSelectorToMarkedString(p),range:r(p)});break}if(p instanceof nodes.Declaration){var l=p.getFullPropertyName();(g=this.cssDataManager.getProperty(l))&&(a=(d=languageFacts.getEntryDescription(g,this.doesSupportMarkdown(),s))?{contents:d,range:r(p)}:null)}else if(p instanceof nodes.UnknownAtRule){var u=p.getText();(g=this.cssDataManager.getAtDirective(u))&&(a=(d=languageFacts.getEntryDescription(g,this.doesSupportMarkdown(),s))?{contents:d,range:r(p)}:null)}else if(p instanceof nodes.Node&&p.type===nodes.NodeType.PseudoSelector){var g,d,f=p.getText();(g="::"===f.slice(0,2)?this.cssDataManager.getPseudoElement(f):this.cssDataManager.getPseudoClass(f))&&(a=(d=languageFacts.getEntryDescription(g,this.doesSupportMarkdown(),s))?{contents:d,range:r(p)}:null)}else;}return a&&(a.contents=this.convertContents(a.contents)),a},t.prototype.convertContents=function(t){return this.doesSupportMarkdown()||"string"==typeof t?t:"kind"in t?{kind:"plaintext",value:t.value}:Array.isArray(t)?t.map((function(t){return"string"==typeof t?t:t.value})):t.value},t.prototype.doesSupportMarkdown=function(){if(!isDefined(this.supportsMarkdown)){if(!isDefined(this.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;var t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.hover;this.supportsMarkdown=t&&t.contentFormat&&Array.isArray(t.contentFormat)&&-1!==t.contentFormat.indexOf(MarkupKind.Markdown)}return this.supportsMarkdown},t}();export{CSSHover};
//# sourceMappingURL=/sm/55481dda2387791f9e0d09ec24b8ce843bb4b0d5e028159ad1bd9ffe9fa7a0b3.map