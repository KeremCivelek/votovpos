/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/json/_deps/vscode-languageserver-textdocument/lib/esm/main.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var FullTextDocument=function(){function t(t,e,n,r){this._uri=t,this._languageId=e,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.prototype.getText=function(t){if(t){var e=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(e,n)}return this._content},t.prototype.update=function(e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(t.isIncremental(o)){var s=getWellformedRange(o.range),a=this.offsetAt(s.start),f=this.offsetAt(s.end);this._content=this._content.substring(0,a)+o.text+this._content.substring(f,this._content.length);var l=Math.max(s.start.line,0),u=Math.max(s.end.line,0),c=this._lineOffsets,h=computeLineOffsets(o.text,!1,a);if(u-l===h.length)for(var g=0,p=h.length;g<p;g++)c[g+l+1]=h[g];else h.length<1e4?c.splice.apply(c,[l+1,u-l].concat(h)):this._lineOffsets=c=c.slice(0,l+1).concat(h,c.slice(u+1));var v=o.text.length-(f-a);if(0!==v)for(g=l+1+h.length,p=c.length;g<p;g++)c[g]=c[g]+v}else{if(!t.isFull(o))throw new Error("Unknown change event received");this._content=o.text,this._lineOffsets=void 0}}this._version=n},t.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=computeLineOffsets(this._content,!0)),this._lineOffsets},t.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var e=this.getLineOffsets(),n=0,r=e.length;if(0===r)return{line:0,character:t};for(;n<r;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i+1}var o=n-1;return{line:o,character:t-e[o]}},t.prototype.offsetAt=function(t){var e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;var n=e[t.line],r=t.line+1<e.length?e[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,r),n)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),t.isIncremental=function(t){var e=t;return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)},t.isFull=function(t){var e=t;return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength},t}();export var TextDocument;function mergeSort(t,e){if(t.length<=1)return t;var n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);mergeSort(r,e),mergeSort(i,e);for(var o=0,s=0,a=0;o<r.length&&s<i.length;){var f=e(r[o],i[s]);t[a++]=f<=0?r[o++]:i[s++]}for(;o<r.length;)t[a++]=r[o++];for(;s<i.length;)t[a++]=i[s++];return t}function computeLineOffsets(t,e,n){void 0===n&&(n=0);for(var r=e?[n]:[],i=0;i<t.length;i++){var o=t.charCodeAt(i);13!==o&&10!==o||(13===o&&i+1<t.length&&10===t.charCodeAt(i+1)&&i++,r.push(n+i+1))}return r}function getWellformedRange(t){var e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function getWellformedEdit(t){var e=getWellformedRange(t.range);return e!==t.range?{newText:t.newText,range:e}:t}!function(t){t.create=function(t,e,n,r){return new FullTextDocument(t,e,n,r)},t.update=function(t,e,n){if(t instanceof FullTextDocument)return t.update(e,n),t;throw new Error("TextDocument.update: document must be created by TextDocument.create")},t.applyEdits=function(t,e){for(var n=t.getText(),r=0,i=[],o=0,s=mergeSort(e.map(getWellformedEdit),(function(t,e){var n=t.range.start.line-e.range.start.line;return 0===n?t.range.start.character-e.range.start.character:n}));o<s.length;o++){var a=s[o],f=t.offsetAt(a.range.start);if(f<r)throw new Error("Overlapping edit");f>r&&i.push(n.substring(r,f)),a.newText.length&&i.push(a.newText),r=t.offsetAt(a.range.end)}return i.push(n.substr(r)),i.join("")}}(TextDocument||(TextDocument={}));
//# sourceMappingURL=/sm/a1962bb5fd1821cf9f9e3d7037c12cd79e9ba20c6d773a0d05bc5b98e4fe55a9.map