/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/json/jsonWorker.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var defaultSchemaRequestService,__awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};import*as jsonService from"./_deps/vscode-json-languageservice/jsonLanguageService.js";import{URI}from"./_deps/vscode-uri/index.js";"undefined"!=typeof fetch&&(defaultSchemaRequestService=function(e){return fetch(e).then((function(e){return e.text()}))});var JSONWorker=function(){function e(e,t){this._ctx=e,this._languageSettings=t.languageSettings,this._languageId=t.languageId,this._languageService=jsonService.getLanguageService({workspaceContext:{resolveRelativePath:function(e,t){return resolvePath(t.substr(0,t.lastIndexOf("/")+1),e)}},schemaRequestService:t.enableSchemaRequest&&defaultSchemaRequestService}),this._languageService.configure(this._languageSettings)}return e.prototype.doValidation=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(n){return(t=this._getTextDocument(e))?(r=this._languageService.parseJSONDocument(t),[2,this._languageService.doValidation(t,r,this._languageSettings)]):[2,Promise.resolve([])]}))}))},e.prototype.doComplete=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(o){return r=this._getTextDocument(e),n=this._languageService.parseJSONDocument(r),[2,this._languageService.doComplete(r,t,n)]}))}))},e.prototype.doResolve=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this._languageService.doResolve(e)]}))}))},e.prototype.doHover=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(o){return r=this._getTextDocument(e),n=this._languageService.parseJSONDocument(r),[2,this._languageService.doHover(r,t,n)]}))}))},e.prototype.format=function(e,t,r){return __awaiter(this,void 0,void 0,(function(){var n,o;return __generator(this,(function(i){return n=this._getTextDocument(e),o=this._languageService.format(n,t,r),[2,Promise.resolve(o)]}))}))},e.prototype.resetSchema=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,Promise.resolve(this._languageService.resetSchema(e))]}))}))},e.prototype.findDocumentSymbols=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n;return __generator(this,(function(o){return t=this._getTextDocument(e),r=this._languageService.parseJSONDocument(t),n=this._languageService.findDocumentSymbols(t,r),[2,Promise.resolve(n)]}))}))},e.prototype.findDocumentColors=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,n;return __generator(this,(function(o){return t=this._getTextDocument(e),r=this._languageService.parseJSONDocument(t),n=this._languageService.findDocumentColors(t,r),[2,Promise.resolve(n)]}))}))},e.prototype.getColorPresentations=function(e,t,r){return __awaiter(this,void 0,void 0,(function(){var n,o,i;return __generator(this,(function(a){return n=this._getTextDocument(e),o=this._languageService.parseJSONDocument(n),i=this._languageService.getColorPresentations(n,o,t,r),[2,Promise.resolve(i)]}))}))},e.prototype.getFoldingRanges=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n;return __generator(this,(function(o){return r=this._getTextDocument(e),n=this._languageService.getFoldingRanges(r,t),[2,Promise.resolve(n)]}))}))},e.prototype.getSelectionRanges=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,n,o;return __generator(this,(function(i){return r=this._getTextDocument(e),n=this._languageService.parseJSONDocument(r),o=this._languageService.getSelectionRanges(r,t,n),[2,Promise.resolve(o)]}))}))},e.prototype._getTextDocument=function(e){for(var t=0,r=this._ctx.getMirrorModels();t<r.length;t++){var n=r[t];if(n.uri.toString()===e)return jsonService.TextDocument.create(e,this._languageId,n.version,n.getValue())}return null},e}();export{JSONWorker};var Slash="/".charCodeAt(0),Dot=".".charCodeAt(0);function isAbsolutePath(e){return e.charCodeAt(0)===Slash}function resolvePath(e,t){if(isAbsolutePath(t)){var r=URI.parse(e),n=t.split("/");return r.with({path:normalizePath(n)}).toString()}return joinPath(e,t)}function normalizePath(e){for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r];0===o.length||1===o.length&&o.charCodeAt(0)===Dot||(2===o.length&&o.charCodeAt(0)===Dot&&o.charCodeAt(1)===Dot?t.pop():t.push(o))}e.length>1&&0===e[e.length-1].length&&t.push("");var i=t.join("/");return 0===e[0].length&&(i="/"+i),i}function joinPath(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=URI.parse(e),o=n.path.split("/"),i=0,a=t;i<a.length;i++){var u=a[i];o.push.apply(o,u.split("/"))}return n.with({path:normalizePath(o)}).toString()}export function create(e,t){return new JSONWorker(e,t)}
//# sourceMappingURL=/sm/18dd0a65442014a975a8654d4f712a92c4040a87aee86e8d43e315b8f37b13cf.map