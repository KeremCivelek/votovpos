/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/json/_deps/vscode-json-languageservice/parser/jsonParser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __extends=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();import*as Json from"./../../jsonc-parser/main.js";import{isNumber,equals,isBoolean,isString,isDefined}from"../utils/objects.js";import{extendedRegExp}from"../utils/strings.js";import{ErrorCode,Diagnostic,DiagnosticSeverity,Range}from"../jsonLanguageTypes.js";import*as nls from"./../../../fillers/vscode-nls.js";var localize=nls.loadMessageBundle(),formats={"color-hex":{errorMessage:localize("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:localize("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:localize("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:localize("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:localize("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},ASTNodeImpl=function(){function e(e,t,r){void 0===r&&(r=0),this.offset=t,this.length=r,this.parent=e}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}();export{ASTNodeImpl};var NullASTNodeImpl=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.type="null",o.value=null,o}return __extends(t,e),t}(ASTNodeImpl);export{NullASTNodeImpl};var BooleanASTNodeImpl=function(e){function t(t,r,o){var n=e.call(this,t,o)||this;return n.type="boolean",n.value=r,n}return __extends(t,e),t}(ASTNodeImpl);export{BooleanASTNodeImpl};var ArrayASTNodeImpl=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.type="array",o.items=[],o}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),t}(ASTNodeImpl);export{ArrayASTNodeImpl};var NumberASTNodeImpl=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.type="number",o.isInteger=!0,o.value=Number.NaN,o}return __extends(t,e),t}(ASTNodeImpl);export{NumberASTNodeImpl};var StringASTNodeImpl=function(e){function t(t,r,o){var n=e.call(this,t,r,o)||this;return n.type="string",n.value="",n}return __extends(t,e),t}(ASTNodeImpl);export{StringASTNodeImpl};var PropertyASTNodeImpl=function(e){function t(t,r,o){var n=e.call(this,t,r)||this;return n.type="property",n.colonOffset=-1,n.keyNode=o,n}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),t}(ASTNodeImpl);export{PropertyASTNodeImpl};var ObjectASTNodeImpl=function(e){function t(t,r){var o=e.call(this,t,r)||this;return o.type="object",o.properties=[],o}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),t}(ASTNodeImpl);export{ObjectASTNodeImpl};export function asSchema(e){return isBoolean(e)?e?{}:{not:{}}:e}export var EnumMatch;!function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"}(EnumMatch||(EnumMatch={}));var SchemaCollector=function(){function e(e,t){void 0===e&&(e=-1),this.focusOffset=e,this.exclude=t,this.schemas=[]}return e.prototype.add=function(e){this.schemas.push(e)},e.prototype.merge=function(e){Array.prototype.push.apply(this.schemas,e.schemas)},e.prototype.include=function(e){return(-1===this.focusOffset||contains(e,this.focusOffset))&&e!==this.exclude},e.prototype.newSub=function(){return new e(-1,this.exclude)},e}(),NoOpSchemaCollector=function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.add=function(e){},e.prototype.merge=function(e){},e.prototype.include=function(e){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}(),ValidationResult=function(){function e(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}return e.prototype.hasProblems=function(){return!!this.problems.length},e.prototype.mergeAll=function(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];this.merge(o)}},e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)},e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,r=this.problems;t<r.length;t++){var o=r[t];o.code===ErrorCode.EnumValueMismatch&&(o.message=localize("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(e){return JSON.stringify(e)})).join(", ")))}}},e.prototype.mergePropertyMatch=function(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++},e.prototype.compare=function(e){var t=this.hasProblems();return t!==e.hasProblems()?t?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.propertiesMatches-e.propertiesMatches},e}();export{ValidationResult};export function newJSONDocument(e,t){return void 0===t&&(t=[]),new JSONDocument(e,t,[])}export function getNodeValue(e){return Json.getNodeValue(e)}export function getNodePath(e){return Json.getNodePath(e)}export function contains(e,t,r){return void 0===r&&(r=!1),t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}var JSONDocument=function(){function e(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=[]),this.root=e,this.syntaxErrors=t,this.comments=r}return e.prototype.getNodeFromOffset=function(e,t){if(void 0===t&&(t=!1),this.root)return Json.findNodeAtOffset(this.root,e,t)},e.prototype.visit=function(e){if(this.root){var t=function(r){var o=e(r),n=r.children;if(Array.isArray(n))for(var a=0;a<n.length&&o;a++)o=t(n[a]);return o};t(this.root)}},e.prototype.validate=function(e,t,r){if(void 0===r&&(r=DiagnosticSeverity.Warning),this.root&&t){var o=new ValidationResult;return validate(this.root,t,o,NoOpSchemaCollector.instance),o.problems.map((function(t){var o,n=Range.create(e.positionAt(t.location.offset),e.positionAt(t.location.offset+t.location.length));return Diagnostic.create(n,t.message,null!==(o=t.severity)&&void 0!==o?o:r,t.code)}))}},e.prototype.getMatchingSchemas=function(e,t,r){void 0===t&&(t=-1);var o=new SchemaCollector(t,r);return this.root&&e&&validate(this.root,e,new ValidationResult,o),o.schemas},e}();export{JSONDocument};function validate(e,t,r,o){if(e&&o.include(e)){var n=e;switch(n.type){case"object":!function(e,t,r,o){for(var n=Object.create(null),a=[],i=0,s=e.properties;i<s.length;i++){n[_=(g=s[i]).keyNode.value]=g.valueNode,a.push(_)}if(Array.isArray(t.required))for(var l=0,c=t.required;l<c.length;l++){if(!n[M=c[l]]){var u=e.parent&&"property"===e.parent.type&&e.parent.keyNode,p=u?{offset:u.offset,length:u.length}:{offset:e.offset,length:1};r.problems.push({location:p,message:localize("MissingRequiredPropWarning",'Missing property "{0}".',M)})}}var m=function(e){for(var t=a.indexOf(e);t>=0;)a.splice(t,1),t=a.indexOf(e)};if(t.properties)for(var f=0,h=Object.keys(t.properties);f<h.length;f++){m(M=h[f]);var d=t.properties[M];if(A=n[M])if(isBoolean(d))if(d)r.propertiesMatches++,r.propertiesValueMatches++;else{var g=A.parent;r.problems.push({location:{offset:g.keyNode.offset,length:g.keyNode.length},message:t.errorMessage||localize("DisallowedExtraPropWarning","Property {0} is not allowed.",M)})}else validate(A,d,V=new ValidationResult,o),r.mergePropertyMatch(V)}if(t.patternProperties)for(var v=0,y=Object.keys(t.patternProperties);v<y.length;v++)for(var b=y[v],x=extendedRegExp(b),N=0,S=a.slice(0);N<S.length;N++){var M=S[N];if(x.test(M))if(m(M),A=n[M]){d=t.patternProperties[b];if(isBoolean(d))if(d)r.propertiesMatches++,r.propertiesValueMatches++;else{g=A.parent;r.problems.push({location:{offset:g.keyNode.offset,length:g.keyNode.length},message:t.errorMessage||localize("DisallowedExtraPropWarning","Property {0} is not allowed.",M)})}else validate(A,d,V=new ValidationResult,o),r.mergePropertyMatch(V)}}if("object"==typeof t.additionalProperties)for(var E=0,T=a;E<T.length;E++){if(A=n[M=T[E]]){var V=new ValidationResult;validate(A,t.additionalProperties,V,o),r.mergePropertyMatch(V)}}else if(!1===t.additionalProperties&&a.length>0)for(var O=0,k=a;O<k.length;O++){var A;if(A=n[M=k[O]]){g=A.parent;r.problems.push({location:{offset:g.keyNode.offset,length:g.keyNode.length},message:t.errorMessage||localize("DisallowedExtraPropWarning","Property {0} is not allowed.",M)})}}isNumber(t.maxProperties)&&e.properties.length>t.maxProperties&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)});isNumber(t.minProperties)&&e.properties.length<t.minProperties&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)});if(t.dependencies)for(var I=0,C=Object.keys(t.dependencies);I<C.length;I++){if(n[_=C[I]]){var z=t.dependencies[_];if(Array.isArray(z))for(var w=0,P=z;w<P.length;w++){var R=P[w];n[R]?r.propertiesValueMatches++:r.problems.push({location:{offset:e.offset,length:e.length},message:localize("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",R,_)})}else if(d=asSchema(z))validate(e,d,V=new ValidationResult,o),r.mergePropertyMatch(V)}}var W=asSchema(t.propertyNames);if(W)for(var j=0,D=e.properties;j<D.length;j++){var _;(_=D[j].keyNode)&&validate(_,W,r,NoOpSchemaCollector.instance)}}(n,t,r,o);break;case"array":!function(e,t,r,o){if(Array.isArray(t.items)){for(var n=t.items,a=0;a<n.length;a++){var i=asSchema(n[a]),s=new ValidationResult;(m=e.items[a])?(validate(m,i,s,o),r.mergePropertyMatch(s)):e.items.length>=n.length&&r.propertiesValueMatches++}if(e.items.length>n.length)if("object"==typeof t.additionalItems)for(var l=n.length;l<e.items.length;l++){s=new ValidationResult;validate(e.items[l],t.additionalItems,s,o),r.mergePropertyMatch(s)}else!1===t.additionalItems&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",n.length)})}else{var c=asSchema(t.items);if(c)for(var u=0,p=e.items;u<p.length;u++){var m;validate(m=p[u],c,s=new ValidationResult,o),r.mergePropertyMatch(s)}}var f=asSchema(t.contains);if(f){e.items.some((function(e){var t=new ValidationResult;return validate(e,f,t,NoOpSchemaCollector.instance),!t.hasProblems()}))||r.problems.push({location:{offset:e.offset,length:e.length},message:t.errorMessage||localize("requiredItemMissingWarning","Array does not contain required item.")})}isNumber(t.minItems)&&e.items.length<t.minItems&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)});isNumber(t.maxItems)&&e.items.length>t.maxItems&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)});if(!0===t.uniqueItems){var h=getNodeValue(e);h.some((function(e,t){return t!==h.lastIndexOf(e)}))&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("uniqueItemsWarning","Array has duplicate items.")})}}(n,t,r,o);break;case"string":!function(e,t,r,o){isNumber(t.minLength)&&e.value.length<t.minLength&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)});isNumber(t.maxLength)&&e.value.length>t.maxLength&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)});if(isString(t.pattern)){extendedRegExp(t.pattern).test(e.value)||r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||localize("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}if(t.format)switch(t.format){case"uri":case"uri-reference":var n=void 0;if(e.value){var a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(e.value);a?a[2]||"uri"!==t.format||(n=localize("uriSchemeMissing","URI with a scheme is expected.")):n=localize("uriMissing","URI is expected.")}else n=localize("uriEmpty","URI expected.");n&&r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||localize("uriFormatWarning","String is not a URI: {0}",n)});break;case"color-hex":case"date-time":case"date":case"time":case"email":var i=formats[t.format];e.value&&i.pattern.exec(e.value)||r.problems.push({location:{offset:e.offset,length:e.length},message:t.patternErrorMessage||t.errorMessage||i.errorMessage})}}(n,t,r);break;case"number":!function(e,t,r,o){var n=e.value;function a(e){var t,r=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(e.toString());return r&&{value:Number(r[1]+(r[2]||"")),multiplier:((null===(t=r[2])||void 0===t?void 0:t.length)||0)-(parseInt(r[3])||0)}}if(isNumber(t.multipleOf)){var i=-1;if(Number.isInteger(t.multipleOf))i=n%t.multipleOf;else{var s=a(t.multipleOf),l=a(n);if(s&&l){var c=Math.pow(10,Math.abs(l.multiplier-s.multiplier));l.multiplier<s.multiplier?l.value*=c:s.value*=c,i=l.value%s.value}}0!==i&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)})}function u(e,t){return isNumber(t)?t:isBoolean(t)&&t?e:void 0}function p(e,t){if(!isBoolean(t)||!t)return e}var m=u(t.minimum,t.exclusiveMinimum);isNumber(m)&&n<=m&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",m)});var f=u(t.maximum,t.exclusiveMaximum);isNumber(f)&&n>=f&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",f)});var h=p(t.minimum,t.exclusiveMinimum);isNumber(h)&&n<h&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("minimumWarning","Value is below the minimum of {0}.",h)});var d=p(t.maximum,t.exclusiveMaximum);isNumber(d)&&n>d&&r.problems.push({location:{offset:e.offset,length:e.length},message:localize("maximumWarning","Value is above the maximum of {0}.",d)})}(n,t,r);break;case"property":return validate(n.valueNode,t,r,o)}!function(){function e(e){return n.type===e||"integer"===e&&"number"===n.type&&n.isInteger}Array.isArray(t.type)?t.type.some(e)||r.problems.push({location:{offset:n.offset,length:n.length},message:t.errorMessage||localize("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(e(t.type)||r.problems.push({location:{offset:n.offset,length:n.length},message:t.errorMessage||localize("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)}));if(Array.isArray(t.allOf))for(var a=0,i=t.allOf;a<i.length;a++){var s=i[a];validate(n,asSchema(s),r,o)}var l=asSchema(t.not);if(l){var c=new ValidationResult,u=o.newSub();validate(n,l,c,u),c.hasProblems()||r.problems.push({location:{offset:n.offset,length:n.length},message:localize("notSchemaWarning","Matches a schema that is not allowed.")});for(var p=0,m=u.schemas;p<m.length;p++){var f=m[p];f.inverted=!f.inverted,o.add(f)}}var h=function(e,t){for(var a=[],i=void 0,s=0,l=e;s<l.length;s++){var c=asSchema(l[s]),u=new ValidationResult,p=o.newSub();if(validate(n,c,u,p),u.hasProblems()||a.push(c),i)if(t||u.hasProblems()||i.validationResult.hasProblems()){var m=u.compare(i.validationResult);m>0?i={schema:c,validationResult:u,matchingSchemas:p}:0===m&&(i.matchingSchemas.merge(p),i.validationResult.mergeEnumValues(u))}else i.matchingSchemas.merge(p),i.validationResult.propertiesMatches+=u.propertiesMatches,i.validationResult.propertiesValueMatches+=u.propertiesValueMatches;else i={schema:c,validationResult:u,matchingSchemas:p}}return a.length>1&&t&&r.problems.push({location:{offset:n.offset,length:1},message:localize("oneOfWarning","Matches multiple schemas when only one must validate.")}),i&&(r.merge(i.validationResult),r.propertiesMatches+=i.validationResult.propertiesMatches,r.propertiesValueMatches+=i.validationResult.propertiesValueMatches,o.merge(i.matchingSchemas)),a.length};Array.isArray(t.anyOf)&&h(t.anyOf,!1);Array.isArray(t.oneOf)&&h(t.oneOf,!0);var d=function(e){var t=new ValidationResult,a=o.newSub();validate(n,asSchema(e),t,a),r.merge(t),r.propertiesMatches+=t.propertiesMatches,r.propertiesValueMatches+=t.propertiesValueMatches,o.merge(a)},g=asSchema(t.if);g&&function(e,t,r){var a=asSchema(e),i=new ValidationResult,s=o.newSub();validate(n,a,i,s),o.merge(s),i.hasProblems()?r&&d(r):t&&d(t)}(g,asSchema(t.then),asSchema(t.else));if(Array.isArray(t.enum)){for(var v=getNodeValue(n),y=!1,b=0,x=t.enum;b<x.length;b++){var N=x[b];if(equals(v,N)){y=!0;break}}r.enumValues=t.enum,r.enumValueMatch=y,y||r.problems.push({location:{offset:n.offset,length:n.length},code:ErrorCode.EnumValueMismatch,message:t.errorMessage||localize("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map((function(e){return JSON.stringify(e)})).join(", "))})}if(isDefined(t.const)){v=getNodeValue(n);equals(v,t.const)?r.enumValueMatch=!0:(r.problems.push({location:{offset:n.offset,length:n.length},code:ErrorCode.EnumValueMismatch,message:t.errorMessage||localize("constWarning","Value must be {0}.",JSON.stringify(t.const))}),r.enumValueMatch=!1),r.enumValues=[t.const]}t.deprecationMessage&&n.parent&&r.problems.push({location:{offset:n.parent.offset,length:n.parent.length},severity:DiagnosticSeverity.Warning,message:t.deprecationMessage,code:ErrorCode.Deprecated})}(),o.add({node:n,schema:t})}}export function parse(e,t){var r=[],o=-1,n=e.getText(),a=Json.createScanner(n,!1),i=t&&t.collectComments?[]:void 0;function s(){for(;;){var t=a.scan();switch(u(),t){case 12:case 13:Array.isArray(i)&&i.push(Range.create(e.positionAt(a.getTokenOffset()),e.positionAt(a.getTokenOffset()+a.getTokenLength())));break;case 15:case 14:break;default:return t}}}function l(t,n,a,i,s){if(void 0===s&&(s=DiagnosticSeverity.Error),0===r.length||a!==o){var l=Range.create(e.positionAt(a),e.positionAt(i));r.push(Diagnostic.create(l,t,s,n,e.languageId)),o=a}}function c(e,t,r,o,i){void 0===r&&(r=void 0),void 0===o&&(o=[]),void 0===i&&(i=[]);var c=a.getTokenOffset(),u=a.getTokenOffset()+a.getTokenLength();if(c===u&&c>0){for(c--;c>0&&/\s/.test(n.charAt(c));)c--;u=c+1}if(l(e,t,c,u),r&&p(r,!1),o.length+i.length>0)for(var m=a.getToken();17!==m;){if(-1!==o.indexOf(m)){s();break}if(-1!==i.indexOf(m))break;m=s()}return r}function u(){switch(a.getTokenError()){case 4:return c(localize("InvalidUnicode","Invalid unicode sequence in string."),ErrorCode.InvalidUnicode),!0;case 5:return c(localize("InvalidEscapeCharacter","Invalid escape character in string."),ErrorCode.InvalidEscapeCharacter),!0;case 3:return c(localize("UnexpectedEndOfNumber","Unexpected end of number."),ErrorCode.UnexpectedEndOfNumber),!0;case 1:return c(localize("UnexpectedEndOfComment","Unexpected end of comment."),ErrorCode.UnexpectedEndOfComment),!0;case 2:return c(localize("UnexpectedEndOfString","Unexpected end of string."),ErrorCode.UnexpectedEndOfString),!0;case 6:return c(localize("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),ErrorCode.InvalidCharacter),!0}return!1}function p(e,t){return e.length=a.getTokenOffset()+a.getTokenLength()-e.offset,t&&s(),e}var m=new StringASTNodeImpl(void 0,0,0);function f(t,r){var o=new PropertyASTNodeImpl(t,a.getTokenOffset(),m),n=h(o);if(!n){if(16!==a.getToken())return;c(localize("DoubleQuotesExpected","Property keys must be doublequoted"),ErrorCode.Undefined);var i=new StringASTNodeImpl(o,a.getTokenOffset(),a.getTokenLength());i.value=a.getTokenValue(),n=i,s()}o.keyNode=n;var u=r[n.value];if(u?(l(localize("DuplicateKeyWarning","Duplicate object key"),ErrorCode.DuplicateKey,o.keyNode.offset,o.keyNode.offset+o.keyNode.length,DiagnosticSeverity.Warning),"object"==typeof u&&l(localize("DuplicateKeyWarning","Duplicate object key"),ErrorCode.DuplicateKey,u.keyNode.offset,u.keyNode.offset+u.keyNode.length,DiagnosticSeverity.Warning),r[n.value]=!0):r[n.value]=o,6===a.getToken())o.colonOffset=a.getTokenOffset(),s();else if(c(localize("ColonExpected","Colon expected"),ErrorCode.ColonExpected),10===a.getToken()&&e.positionAt(n.offset+n.length).line<e.positionAt(a.getTokenOffset()).line)return o.length=n.length,o;var p=d(o);return p?(o.valueNode=p,o.length=p.offset+p.length-o.offset,o):c(localize("ValueExpected","Value expected"),ErrorCode.ValueExpected,o,[],[2,5])}function h(e){if(10===a.getToken()){var t=new StringASTNodeImpl(e,a.getTokenOffset());return t.value=a.getTokenValue(),p(t,!0)}}function d(e){return function(e){if(3===a.getToken()){var t=new ArrayASTNodeImpl(e,a.getTokenOffset());s();for(var r=!1;4!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){r||c(localize("ValueExpected","Value expected"),ErrorCode.ValueExpected);var o=a.getTokenOffset();if(s(),4===a.getToken()){r&&l(localize("TrailingComma","Trailing comma"),ErrorCode.TrailingComma,o,o+1);continue}}else r&&c(localize("ExpectedComma","Expected comma"),ErrorCode.CommaExpected);var n=d(t);n?t.items.push(n):c(localize("PropertyExpected","Value expected"),ErrorCode.ValueExpected,void 0,[],[4,5]),r=!0}return 4!==a.getToken()?c(localize("ExpectedCloseBracket","Expected comma or closing bracket"),ErrorCode.CommaOrCloseBacketExpected,t):p(t,!0)}}(e)||function(e){if(1===a.getToken()){var t=new ObjectASTNodeImpl(e,a.getTokenOffset()),r=Object.create(null);s();for(var o=!1;2!==a.getToken()&&17!==a.getToken();){if(5===a.getToken()){o||c(localize("PropertyExpected","Property expected"),ErrorCode.PropertyExpected);var n=a.getTokenOffset();if(s(),2===a.getToken()){o&&l(localize("TrailingComma","Trailing comma"),ErrorCode.TrailingComma,n,n+1);continue}}else o&&c(localize("ExpectedComma","Expected comma"),ErrorCode.CommaExpected);var i=f(t,r);i?t.properties.push(i):c(localize("PropertyExpected","Property expected"),ErrorCode.PropertyExpected,void 0,[],[2,5]),o=!0}return 2!==a.getToken()?c(localize("ExpectedCloseBrace","Expected comma or closing brace"),ErrorCode.CommaOrCloseBraceExpected,t):p(t,!0)}}(e)||h(e)||function(e){if(11===a.getToken()){var t=new NumberASTNodeImpl(e,a.getTokenOffset());if(0===a.getTokenError()){var r=a.getTokenValue();try{var o=JSON.parse(r);if(!isNumber(o))return c(localize("InvalidNumberFormat","Invalid number format."),ErrorCode.Undefined,t);t.value=o}catch(e){return c(localize("InvalidNumberFormat","Invalid number format."),ErrorCode.Undefined,t)}t.isInteger=-1===r.indexOf(".")}return p(t,!0)}}(e)||function(e){switch(a.getToken()){case 7:return p(new NullASTNodeImpl(e,a.getTokenOffset()),!0);case 8:return p(new BooleanASTNodeImpl(e,!0,a.getTokenOffset()),!0);case 9:return p(new BooleanASTNodeImpl(e,!1,a.getTokenOffset()),!0);default:return}}(e)}var g=void 0;return 17!==s()&&((g=d(g))?17!==a.getToken()&&c(localize("End of file expected","End of file expected."),ErrorCode.Undefined):c(localize("Invalid symbol","Expected a JSON object, array or literal."),ErrorCode.Undefined)),new JSONDocument(g,r,i)}
//# sourceMappingURL=/sm/f1c68621a87a6b829780b75d3aa0b00ac312ff0ba2721b2e39d7991feb2a519c.map