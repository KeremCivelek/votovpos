/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/monaco-editor@0.27.0/esm/vs/language/json/languageFeatures.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Uri,Range,editor,languages,MarkerSeverity}from"./fillers/monaco-editor-core.js";import*as jsonService from"./_deps/vscode-json-languageservice/jsonLanguageService.js";var DiagnosticsAdapter=function(){function e(e,n,t){var r=this;this._languageId=e,this._worker=n,this._disposables=[],this._listener=Object.create(null);var o=function(e){var n,t=e.getModeId();t===r._languageId&&(r._listener[e.uri.toString()]=e.onDidChangeContent((function(){clearTimeout(n),n=setTimeout((function(){return r._doValidate(e.uri,t)}),500)})),r._doValidate(e.uri,t))},i=function(e){editor.setModelMarkers(e,r._languageId,[]);var n=e.uri.toString(),t=r._listener[n];t&&(t.dispose(),delete r._listener[n])};this._disposables.push(editor.onDidCreateModel(o)),this._disposables.push(editor.onWillDisposeModel((function(e){i(e),r._resetSchema(e.uri)}))),this._disposables.push(editor.onDidChangeModelLanguage((function(e){i(e.model),o(e.model),r._resetSchema(e.model.uri)}))),this._disposables.push(t.onDidChange((function(e){editor.getModels().forEach((function(e){e.getModeId()===r._languageId&&(i(e),o(e))}))}))),this._disposables.push({dispose:function(){for(var e in editor.getModels().forEach(i),r._listener)r._listener[e].dispose()}}),editor.getModels().forEach(o)}return e.prototype.dispose=function(){this._disposables.forEach((function(e){return e&&e.dispose()})),this._disposables=[]},e.prototype._resetSchema=function(e){this._worker().then((function(n){n.resetSchema(e.toString())}))},e.prototype._doValidate=function(e,n){this._worker(e).then((function(t){return t.doValidation(e.toString()).then((function(t){var r=t.map((function(n){return toDiagnostics(e,n)})),o=editor.getModel(e);o&&o.getModeId()===n&&editor.setModelMarkers(o,n,r)}))})).then(void 0,(function(e){console.error(e)}))},e}();export{DiagnosticsAdapter};function toSeverity(e){switch(e){case jsonService.DiagnosticSeverity.Error:return MarkerSeverity.Error;case jsonService.DiagnosticSeverity.Warning:return MarkerSeverity.Warning;case jsonService.DiagnosticSeverity.Information:return MarkerSeverity.Info;case jsonService.DiagnosticSeverity.Hint:return MarkerSeverity.Hint;default:return MarkerSeverity.Info}}function toDiagnostics(e,n){var t="number"==typeof n.code?String(n.code):n.code;return{severity:toSeverity(n.severity),startLineNumber:n.range.start.line+1,startColumn:n.range.start.character+1,endLineNumber:n.range.end.line+1,endColumn:n.range.end.character+1,message:n.message,code:t,source:n.source}}function fromPosition(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function fromRange(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function toRange(e){if(e)return new Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function isInsertReplaceEdit(e){return void 0!==e.insert&&void 0!==e.replace}function toCompletionItemKind(e){var n=languages.CompletionItemKind;switch(e){case jsonService.CompletionItemKind.Text:return n.Text;case jsonService.CompletionItemKind.Method:return n.Method;case jsonService.CompletionItemKind.Function:return n.Function;case jsonService.CompletionItemKind.Constructor:return n.Constructor;case jsonService.CompletionItemKind.Field:return n.Field;case jsonService.CompletionItemKind.Variable:return n.Variable;case jsonService.CompletionItemKind.Class:return n.Class;case jsonService.CompletionItemKind.Interface:return n.Interface;case jsonService.CompletionItemKind.Module:return n.Module;case jsonService.CompletionItemKind.Property:return n.Property;case jsonService.CompletionItemKind.Unit:return n.Unit;case jsonService.CompletionItemKind.Value:return n.Value;case jsonService.CompletionItemKind.Enum:return n.Enum;case jsonService.CompletionItemKind.Keyword:return n.Keyword;case jsonService.CompletionItemKind.Snippet:return n.Snippet;case jsonService.CompletionItemKind.Color:return n.Color;case jsonService.CompletionItemKind.File:return n.File;case jsonService.CompletionItemKind.Reference:return n.Reference}return n.Property}function fromCompletionItemKind(e){var n=languages.CompletionItemKind;switch(e){case n.Text:return jsonService.CompletionItemKind.Text;case n.Method:return jsonService.CompletionItemKind.Method;case n.Function:return jsonService.CompletionItemKind.Function;case n.Constructor:return jsonService.CompletionItemKind.Constructor;case n.Field:return jsonService.CompletionItemKind.Field;case n.Variable:return jsonService.CompletionItemKind.Variable;case n.Class:return jsonService.CompletionItemKind.Class;case n.Interface:return jsonService.CompletionItemKind.Interface;case n.Module:return jsonService.CompletionItemKind.Module;case n.Property:return jsonService.CompletionItemKind.Property;case n.Unit:return jsonService.CompletionItemKind.Unit;case n.Value:return jsonService.CompletionItemKind.Value;case n.Enum:return jsonService.CompletionItemKind.Enum;case n.Keyword:return jsonService.CompletionItemKind.Keyword;case n.Snippet:return jsonService.CompletionItemKind.Snippet;case n.Color:return jsonService.CompletionItemKind.Color;case n.File:return jsonService.CompletionItemKind.File;case n.Reference:return jsonService.CompletionItemKind.Reference}return jsonService.CompletionItemKind.Property}function toTextEdit(e){if(e)return{range:toRange(e.range),text:e.newText}}var CompletionAdapter=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[" ",":"]},enumerable:!1,configurable:!0}),e.prototype.provideCompletionItems=function(e,n,t,r){var o=e.uri;return this._worker(o).then((function(e){return e.doComplete(o.toString(),fromPosition(n))})).then((function(t){if(t){var r=e.getWordUntilPosition(n),o=new Range(n.lineNumber,r.startColumn,n.lineNumber,r.endColumn),i=t.items.map((function(e){var n={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,range:o,kind:toCompletionItemKind(e.kind)};return e.textEdit&&(isInsertReplaceEdit(e.textEdit)?n.range={insert:toRange(e.textEdit.insert),replace:toRange(e.textEdit.replace)}:n.range=toRange(e.textEdit.range),n.insertText=e.textEdit.newText),e.additionalTextEdits&&(n.additionalTextEdits=e.additionalTextEdits.map(toTextEdit)),e.insertTextFormat===jsonService.InsertTextFormat.Snippet&&(n.insertTextRules=languages.CompletionItemInsertTextRule.InsertAsSnippet),n}));return{isIncomplete:t.isIncomplete,suggestions:i}}}))},e}();export{CompletionAdapter};function isMarkupContent(e){return e&&"object"==typeof e&&"string"==typeof e.kind}function toMarkdownString(e){return"string"==typeof e?{value:e}:isMarkupContent(e)?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"}}function toMarkedStringArray(e){if(e)return Array.isArray(e)?e.map(toMarkdownString):[toMarkdownString(e)]}var HoverAdapter=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,n,t){var r=e.uri;return this._worker(r).then((function(e){return e.doHover(r.toString(),fromPosition(n))})).then((function(e){if(e)return{range:toRange(e.range),contents:toMarkedStringArray(e.contents)}}))},e}();export{HoverAdapter};function toLocation(e){return{uri:Uri.parse(e.uri),range:toRange(e.range)}}function toSymbolKind(e){var n=languages.SymbolKind;switch(e){case jsonService.SymbolKind.File:return n.Array;case jsonService.SymbolKind.Module:return n.Module;case jsonService.SymbolKind.Namespace:return n.Namespace;case jsonService.SymbolKind.Package:return n.Package;case jsonService.SymbolKind.Class:return n.Class;case jsonService.SymbolKind.Method:return n.Method;case jsonService.SymbolKind.Property:return n.Property;case jsonService.SymbolKind.Field:return n.Field;case jsonService.SymbolKind.Constructor:return n.Constructor;case jsonService.SymbolKind.Enum:return n.Enum;case jsonService.SymbolKind.Interface:return n.Interface;case jsonService.SymbolKind.Function:return n.Function;case jsonService.SymbolKind.Variable:return n.Variable;case jsonService.SymbolKind.Constant:return n.Constant;case jsonService.SymbolKind.String:return n.String;case jsonService.SymbolKind.Number:return n.Number;case jsonService.SymbolKind.Boolean:return n.Boolean;case jsonService.SymbolKind.Array:return n.Array}return n.Function}var DocumentSymbolAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDocumentSymbols=function(e,n){var t=e.uri;return this._worker(t).then((function(e){return e.findDocumentSymbols(t.toString())})).then((function(e){if(e)return e.map((function(e){return{name:e.name,detail:"",containerName:e.containerName,kind:toSymbolKind(e.kind),range:toRange(e.location.range),selectionRange:toRange(e.location.range),tags:[]}}))}))},e}();export{DocumentSymbolAdapter};function fromFormattingOptions(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}var DocumentFormattingEditProvider=function(){function e(e){this._worker=e}return e.prototype.provideDocumentFormattingEdits=function(e,n,t){var r=e.uri;return this._worker(r).then((function(e){return e.format(r.toString(),null,fromFormattingOptions(n)).then((function(e){if(e&&0!==e.length)return e.map(toTextEdit)}))}))},e}();export{DocumentFormattingEditProvider};var DocumentRangeFormattingEditProvider=function(){function e(e){this._worker=e}return e.prototype.provideDocumentRangeFormattingEdits=function(e,n,t,r){var o=e.uri;return this._worker(o).then((function(e){return e.format(o.toString(),fromRange(n),fromFormattingOptions(t)).then((function(e){if(e&&0!==e.length)return e.map(toTextEdit)}))}))},e}();export{DocumentRangeFormattingEditProvider};var DocumentColorAdapter=function(){function e(e){this._worker=e}return e.prototype.provideDocumentColors=function(e,n){var t=e.uri;return this._worker(t).then((function(e){return e.findDocumentColors(t.toString())})).then((function(e){if(e)return e.map((function(e){return{color:e.color,range:toRange(e.range)}}))}))},e.prototype.provideColorPresentations=function(e,n,t){var r=e.uri;return this._worker(r).then((function(e){return e.getColorPresentations(r.toString(),n.color,fromRange(n.range))})).then((function(e){if(e)return e.map((function(e){var n={label:e.label};return e.textEdit&&(n.textEdit=toTextEdit(e.textEdit)),e.additionalTextEdits&&(n.additionalTextEdits=e.additionalTextEdits.map(toTextEdit)),n}))}))},e}();export{DocumentColorAdapter};var FoldingRangeAdapter=function(){function e(e){this._worker=e}return e.prototype.provideFoldingRanges=function(e,n,t){var r=e.uri;return this._worker(r).then((function(e){return e.getFoldingRanges(r.toString(),n)})).then((function(e){if(e)return e.map((function(e){var n={start:e.startLine+1,end:e.endLine+1};return void 0!==e.kind&&(n.kind=toFoldingRangeKind(e.kind)),n}))}))},e}();export{FoldingRangeAdapter};function toFoldingRangeKind(e){switch(e){case jsonService.FoldingRangeKind.Comment:return languages.FoldingRangeKind.Comment;case jsonService.FoldingRangeKind.Imports:return languages.FoldingRangeKind.Imports;case jsonService.FoldingRangeKind.Region:return languages.FoldingRangeKind.Region}}var SelectionRangeAdapter=function(){function e(e){this._worker=e}return e.prototype.provideSelectionRanges=function(e,n,t){var r=e.uri;return this._worker(r).then((function(e){return e.getSelectionRanges(r.toString(),n.map(fromPosition))})).then((function(e){if(e)return e.map((function(e){for(var n=[];e;)n.push({range:toRange(e.range)}),e=e.parent;return n}))}))},e}();export{SelectionRangeAdapter};
//# sourceMappingURL=/sm/b880970c9c9af0c186849931398f7d085ba201d43ff08185c436a2cc39e1eff7.map