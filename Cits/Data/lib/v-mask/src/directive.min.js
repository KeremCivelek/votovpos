/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/v-mask@2.3.0/src/directive.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import conformToMask from"text-mask-core/src/conformToMask";import parseMask from"./utils/parseMask";import{trigger,queryInputElementInside,isFunction,isString,isRegexp}from"./utils";import createOptions from"./createOptions";import extendMaskReplacers from"./utils/extendMaskReplacers";const options=createOptions();function triggerInputUpdate(e){trigger(e,"input")}function updateValue(e,t=!1){const{value:n}=e,{previousValue:r,mask:o}=options.get(e),a=n!==r,i=n.length>r.length;if((t||n&&a&&i)&&o){const{conformedValue:t}=conformToMask(n,o,{guide:!1});e.value=t,triggerInputUpdate(e)}options.partiallyUpdate(e,{previousValue:n})}function updateMask(e,t,n){const r=parseMask(t,n);options.partiallyUpdate(e,{mask:r})}function maskToString(e){return(Array.isArray(e)?e:[e]).filter((e=>isString(e)||isRegexp(e))).toString()}export function createDirective(e={}){const t=extendMaskReplacers(e&&e.placeholders);return{bind(e,{value:n}){updateMask(e=queryInputElementInside(e),n,t),updateValue(e)},componentUpdated(e,{value:n,oldValue:r}){e=queryInputElementInside(e);const o=isFunction(n)||maskToString(r)!==maskToString(n);o&&updateMask(e,n,t),updateValue(e,o)},unbind(e){e=queryInputElementInside(e),options.remove(e)}}}export default createDirective();
//# sourceMappingURL=/sm/03ea97037fb6ecaf00a55cc0ece3a48d7e14500183de585906860c31ecdea04a.map