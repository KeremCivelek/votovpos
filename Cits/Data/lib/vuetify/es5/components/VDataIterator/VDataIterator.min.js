/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/es5/components/VDataIterator/VDataIterator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _VData=require("../VData"),_VDataFooter=_interopRequireDefault(require("./VDataFooter")),_mobile=_interopRequireDefault(require("../../mixins/mobile")),_themeable=_interopRequireDefault(require("../../mixins/themeable")),_mixins=_interopRequireDefault(require("../../util/mixins")),_helpers=require("../../util/helpers"),_console=require("../../util/console");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach((function(t){_defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _default2=(0,_mixins.default)(_mobile.default,_themeable.default).extend({name:"v-data-iterator",props:_objectSpread(_objectSpread({},_VData.VData.options.props),{},{itemKey:{type:String,default:"id"},value:{type:Array,default:function(){return[]}},singleSelect:Boolean,expanded:{type:Array,default:function(){return[]}},mobileBreakpoint:_objectSpread(_objectSpread({},_mobile.default.options.props.mobileBreakpoint),{},{default:600}),singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}}),data:function(){return{selection:{},expansion:{},internalCurrentItems:[],shiftKeyDown:!1,lastEntry:-1}},computed:{everyItem:function(){var e=this;return!!this.selectableItems.length&&this.selectableItems.every((function(t){return e.isSelected(t)}))},someItems:function(){var e=this;return this.selectableItems.some((function(t){return e.isSelected(t)}))},sanitizedFooterProps:function(){return(0,_helpers.camelizeObjectKeys)(this.footerProps)},selectableItems:function(){var e=this;return this.internalCurrentItems.filter((function(t){return e.isSelectable(t)}))}},watch:{value:{handler:function(e){var t=this;this.selection=e.reduce((function(e,i){return e[(0,_helpers.getObjectValueByPath)(i,t.itemKey)]=i,e}),{})},immediate:!0},selection:function(e,t){(0,_helpers.deepEqual)(Object.keys(e),Object.keys(t))||this.$emit("input",Object.values(e))},expanded:{handler:function(e){var t=this;this.expansion=e.reduce((function(e,i){return e[(0,_helpers.getObjectValueByPath)(i,t.itemKey)]=!0,e}),{})},immediate:!0},expansion:function(e,t){var i=this;if(!(0,_helpers.deepEqual)(e,t)){var r=Object.keys(e).filter((function(t){return e[t]})),n=r.length?this.items.filter((function(e){return r.includes(String((0,_helpers.getObjectValueByPath)(e,i.itemKey)))})):[];this.$emit("update:expanded",n)}}},created:function(){var e=this;[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]].forEach((function(t){var i=_slicedToArray(t,2),r=i[0],n=i[1];e.$attrs.hasOwnProperty(r)&&(0,_console.breaking)(r,n,e)}));["expand","content-class","content-props","content-tag"].forEach((function(t){e.$attrs.hasOwnProperty(t)&&(0,_console.removed)(t)}))},mounted:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyDown:function(e){e.keyCode===_helpers.keyCodes.shift&&(this.shiftKeyDown=!0)},onKeyUp:function(e){e.keyCode===_helpers.keyCodes.shift&&(this.shiftKeyDown=!1)},toggleSelectAll:function(e){for(var t=Object.assign({},this.selection),i=0;i<this.selectableItems.length;i++){var r=this.selectableItems[i];if(this.isSelectable(r)){var n=(0,_helpers.getObjectValueByPath)(r,this.itemKey);e?t[n]=r:delete t[n]}}this.selection=t,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:e})},isSelectable:function(e){return!1!==(0,_helpers.getObjectValueByPath)(e,this.selectableKey)},isSelected:function(e){return!!this.selection[(0,_helpers.getObjectValueByPath)(e,this.itemKey)]||!1},select:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isSelectable(e)){var n=this.singleSelect?{}:Object.assign({},this.selection),s=(0,_helpers.getObjectValueByPath)(e,this.itemKey);i?n[s]=e:delete n[s];var o=this.selectableItems.findIndex((function(e){return(0,_helpers.getObjectValueByPath)(e,t.itemKey)===s}));if(-1===this.lastEntry)this.lastEntry=o;else if(this.shiftKeyDown&&!this.singleSelect&&r){var a=(0,_helpers.getObjectValueByPath)(this.selectableItems[this.lastEntry],this.itemKey),l=Object.keys(this.selection).includes(String(a));this.multipleSelect(l,r,n,o)}if(this.lastEntry=o,this.singleSelect&&r){var u=Object.keys(this.selection),c=u.length&&(0,_helpers.getObjectValueByPath)(this.selection[u[0]],this.itemKey);c&&c!==s&&this.$emit("item-selected",{item:this.selection[c],value:!1})}this.selection=n,r&&this.$emit("item-selected",{item:e,value:i})}},multipleSelect:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=r<this.lastEntry?r:this.lastEntry,s=r<this.lastEntry?this.lastEntry:r,o=n;o<=s;o++){var a=this.selectableItems[o],l=(0,_helpers.getObjectValueByPath)(a,this.itemKey);e?i[l]=a:delete i[l],t&&this.$emit("item-selected",{currentItem:a,value:e})}},isExpanded:function(e){return this.expansion[(0,_helpers.getObjectValueByPath)(e,this.itemKey)]||!1},expand:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.singleExpand?{}:Object.assign({},this.expansion),r=(0,_helpers.getObjectValueByPath)(e,this.itemKey);t?i[r]=!0:delete i[r],this.expansion=i,this.$emit("item-expanded",{item:e,value:t})},createItemProps:function(e,t){var i=this;return{item:e,index:t,select:function(t){return i.select(e,t)},isSelected:this.isSelected(e),expand:function(t){return i.expand(e,t)},isExpanded:this.isExpanded(e),isMobile:this.isMobile}},genEmptyWrapper:function(e){return this.$createElement("div",e)},genEmpty:function(e,t){if(0===e&&this.loading){var i=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(i)}if(0===e){var r=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(r)}if(0===t){var n=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(n)}return null},genItems:function(e){var t=this,i=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return i?[i]:this.$scopedSlots.default?this.$scopedSlots.default(_objectSpread(_objectSpread({},e),{},{isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,isMobile:this.isMobile,expand:this.expand})):this.$scopedSlots.item?e.items.map((function(e,i){return t.$scopedSlots.item(t.createItemProps(e,i))})):[]},genFooter:function(e){if(this.hideDefaultFooter)return null;var t={props:_objectSpread(_objectSpread({},this.sanitizedFooterProps),{},{options:e.options,pagination:e.pagination}),on:{"update:options":function(t){return e.updateOptions(t)}}},i=(0,_helpers.getPrefixedScopedSlots)("footer.",this.$scopedSlots);return this.$createElement(_VDataFooter.default,_objectSpread({scopedSlots:i},t))},genDefaultScopedSlot:function(e){var t=_objectSpread(_objectSpread({},e),{},{someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll});return this.$createElement("div",{staticClass:"v-data-iterator"},[(0,_helpers.getSlot)(this,"header",t,!0),this.genItems(e),this.genFooter(e),(0,_helpers.getSlot)(this,"footer",t,!0)])}},render:function(){var e=this;return this.$createElement(_VData.VData,{props:this.$props,on:{"update:options":function(t,i){return!(0,_helpers.deepEqual)(t,i)&&e.$emit("update:options",t)},"update:page":function(t){return e.$emit("update:page",t)},"update:items-per-page":function(t){return e.$emit("update:items-per-page",t)},"update:sort-by":function(t){return e.$emit("update:sort-by",t)},"update:sort-desc":function(t){return e.$emit("update:sort-desc",t)},"update:group-by":function(t){return e.$emit("update:group-by",t)},"update:group-desc":function(t){return e.$emit("update:group-desc",t)},pagination:function(t,i){return!(0,_helpers.deepEqual)(t,i)&&e.$emit("pagination",t)},"current-items":function(t){e.internalCurrentItems=t,e.$emit("current-items",t)},"page-count":function(t){return e.$emit("page-count",t)}},scopedSlots:{default:this.genDefaultScopedSlot}})}});exports.default=_default2;
//# sourceMappingURL=/sm/101c59d0b5ff304d90bd92aea4b6f01648e5f4cbb030d45cb4c25408704f362f.map