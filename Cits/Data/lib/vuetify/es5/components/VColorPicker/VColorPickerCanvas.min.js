/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/es5/components/VColorPicker/VColorPickerCanvas.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("../../../src/components/VColorPicker/VColorPickerCanvas.sass");var _helpers=require("../../util/helpers"),_util=require("./util"),_vue=_interopRequireDefault(require("vue"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default2=_vue.default.extend({name:"v-color-picker-canvas",props:{color:{type:Object,default:function(){return(0,_util.fromRGBA)({r:255,g:0,b:0,a:1})}},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300}},data:function(){return{boundingRect:{width:0,height:0,left:0,top:0}}},computed:{dot:function(){return this.color?{x:this.color.hsva.s*parseInt(this.width,10),y:(1-this.color.hsva.v)*parseInt(this.height,10)}:{x:0,y:0}}},watch:{"color.hue":"updateCanvas"},mounted:function(){this.updateCanvas()},methods:{emitColor:function(e,t){var i=this.boundingRect,o=i.left,n=i.top,s=i.width,r=i.height;this.$emit("update:color",(0,_util.fromHSVA)({h:this.color.hue,s:(0,_helpers.clamp)(e-o,0,s)/s,v:1-(0,_helpers.clamp)(t-n,0,r)/r,a:this.color.alpha}))},updateCanvas:function(){if(this.color){var e=this.$refs.canvas,t=e.getContext("2d");if(t){var i=t.createLinearGradient(0,0,e.width,0);i.addColorStop(0,"hsla(0, 0%, 100%, 1)"),i.addColorStop(1,"hsla(".concat(this.color.hue,", 100%, 50%, 1)")),t.fillStyle=i,t.fillRect(0,0,e.width,e.height);var o=t.createLinearGradient(0,0,0,e.height);o.addColorStop(0,"hsla(0, 0%, 100%, 0)"),o.addColorStop(1,"hsla(0, 0%, 0%, 1)"),t.fillStyle=o,t.fillRect(0,0,e.width,e.height)}}},handleClick:function(e){this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),this.emitColor(e.clientX,e.clientY))},handleMouseDown:function(e){e.preventDefault(),this.disabled||(this.boundingRect=this.$el.getBoundingClientRect(),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},handleMouseMove:function(e){this.disabled||this.emitColor(e.clientX,e.clientY)},handleMouseUp:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},genCanvas:function(){return this.$createElement("canvas",{ref:"canvas",attrs:{width:this.width,height:this.height}})},genDot:function(){var e=parseInt(this.dotSize,10)/2,t=(0,_helpers.convertToUnit)(this.dot.x-e),i=(0,_helpers.convertToUnit)(this.dot.y-e);return this.$createElement("div",{staticClass:"v-color-picker__canvas-dot",class:{"v-color-picker__canvas-dot--disabled":this.disabled},style:{width:(0,_helpers.convertToUnit)(this.dotSize),height:(0,_helpers.convertToUnit)(this.dotSize),transform:"translate(".concat(t,", ").concat(i,")")}})}},render:function(e){return e("div",{staticClass:"v-color-picker__canvas",style:{width:(0,_helpers.convertToUnit)(this.width),height:(0,_helpers.convertToUnit)(this.height)},on:{click:this.handleClick,mousedown:this.handleMouseDown}},[this.genCanvas(),this.genDot()])}});exports.default=_default2;
//# sourceMappingURL=/sm/4b5d65cc496500b8d4dc339dfbeac60f20fe3eb88457afdd35bb314d3b562085.map