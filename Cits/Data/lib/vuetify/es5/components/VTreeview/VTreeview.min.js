/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/es5/components/VTreeview/VTreeview.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("../../../src/components/VTreeview/VTreeview.sass");var _VTreeviewNode=_interopRequireWildcard(require("./VTreeviewNode")),_themeable=_interopRequireDefault(require("../../mixins/themeable")),_registrable=require("../../mixins/registrable"),_helpers=require("../../util/helpers"),_mixins=_interopRequireDefault(require("../../util/mixins")),_console=require("../../util/console"),_filterTreeItems=require("./util/filterTreeItems");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _default2=(0,_mixins.default)((0,_registrable.provide)("treeview"),_themeable.default).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:_objectSpread({active:{type:Array,default:function(){return[]}},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:function(){return[]}},multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:function(){return[]}}},_VTreeviewNode.VTreeviewNodeProps),data:function(){return{level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}},computed:{excludedItems:function(){var e=new Set;if(!this.search)return e;for(var t=0;t<this.items.length;t++)(0,_filterTreeItems.filterTreeItems)(this.filter||_filterTreeItems.filterTreeItem,this.items[t],this.search,this.itemKey,this.itemText,this.itemChildren,e);return e}},watch:{items:{handler:function(){var e=this,t=Object.keys(this.nodes).map((function(t){return(0,_helpers.getObjectValueByPath)(e.nodes[t].item,e.itemKey)})),r=this.getKeys(this.items),n=(0,_helpers.arrayDiff)(r,t);if(n.length||!(r.length<t.length)){n.forEach((function(t){return delete e.nodes[t]}));var i=_toConsumableArray(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),(0,_helpers.deepEqual)(i,_toConsumableArray(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(e){this.handleNodeCacheWatcher(e,this.activeCache,this.updateActive,this.emitActive)},value:function(e){this.handleNodeCacheWatcher(e,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(e){this.handleNodeCacheWatcher(e,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var e=this,t=function(t){return e.returnObject?(0,_helpers.getObjectValueByPath)(t,e.itemKey):t};this.buildTree(this.items);var r,n=_createForOfIteratorHelper(this.value.map(t));try{for(n.s();!(r=n.n()).done;){var i=r.value;this.updateSelected(i,!0,!0)}}catch(e){n.e(e)}finally{n.f()}var a,s=_createForOfIteratorHelper(this.active.map(t));try{for(s.s();!(a=s.n()).done;){var o=a.value;this.updateActive(o,!0)}}catch(e){s.e(e)}finally{s.f()}},mounted:function(){var e=this;(this.$slots.prepend||this.$slots.append)&&(0,_console.consoleWarn)("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(t){return e.updateOpen(e.returnObject?(0,_helpers.getObjectValueByPath)(t,e.itemKey):t,!0)})),this.emitOpen())},methods:{updateAll:function(e){var t=this;Object.keys(this.nodes).forEach((function(r){return t.updateOpen((0,_helpers.getObjectValueByPath)(t.nodes[r].item,t.itemKey),e)})),this.emitOpen()},getKeys:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0;r<e.length;r++){var n=(0,_helpers.getObjectValueByPath)(e[r],this.itemKey);t.push(n);var i=(0,_helpers.getObjectValueByPath)(e[r],this.itemChildren);i&&t.push.apply(t,_toConsumableArray(this.getKeys(i)))}return t},buildTree:function(e){for(var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i,a=e[n],s=(0,_helpers.getObjectValueByPath)(a,this.itemKey),o=null!=(i=(0,_helpers.getObjectValueByPath)(a,this.itemChildren))?i:[],l=this.nodes.hasOwnProperty(s)?this.nodes[s]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},c={vnode:l.vnode,parent:r,children:o.map((function(e){return(0,_helpers.getObjectValueByPath)(e,t.itemKey)})),item:a};if(this.buildTree(o,s),"independent"!==this.selectionType&&null!==r&&!this.nodes.hasOwnProperty(s)&&this.nodes.hasOwnProperty(r)?c.isSelected=this.nodes[r].isSelected:(c.isSelected=l.isSelected,c.isIndeterminate=l.isIndeterminate),c.isActive=l.isActive,c.isOpen=l.isOpen,this.nodes[s]=c,o.length&&"independent"!==this.selectionType){var h=this.calculateState(s,this.nodes),u=h.isSelected,d=h.isIndeterminate;c.isSelected=u,c.isIndeterminate=d}!this.nodes[s].isSelected||"independent"!==this.selectionType&&0!==c.children.length||this.selectedCache.add(s),this.nodes[s].isActive&&this.activeCache.add(s),this.nodes[s].isOpen&&this.openCache.add(s),this.updateVnodeState(s)}},calculateState:function(e,t){var r=t[e].children,n=r.reduce((function(e,r){return e[0]+=+Boolean(t[r].isSelected),e[1]+=+Boolean(t[r].isIndeterminate),e}),[0,0]),i=!!r.length&&n[0]===r.length;return{isSelected:i,isIndeterminate:!i&&(n[0]>0||n[1]>0)}},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(e,t){var r=this;this.$emit(e,this.returnObject?_toConsumableArray(t).map((function(e){return r.nodes[e].item})):_toConsumableArray(t))},handleNodeCacheWatcher:function(e,t,r,n){var i=this;e=this.returnObject?e.map((function(e){return(0,_helpers.getObjectValueByPath)(e,i.itemKey)})):e;var a=_toConsumableArray(t);(0,_helpers.deepEqual)(a,e)||(a.forEach((function(e){return r(e,!1)})),e.forEach((function(e){return r(e,!0)})),n())},getDescendants:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.nodes[e].children;(t=r).push.apply(t,_toConsumableArray(n));for(var i=0;i<n.length;i++)r=this.getDescendants(n[i],r);return r},getParents:function(e){for(var t=this.nodes[e].parent,r=[];null!==t;)r.push(t),t=this.nodes[t].parent;return r},register:function(e){var t=(0,_helpers.getObjectValueByPath)(e.item,this.itemKey);this.nodes[t].vnode=e,this.updateVnodeState(t)},unregister:function(e){var t=(0,_helpers.getObjectValueByPath)(e.item,this.itemKey);this.nodes[t]&&(this.nodes[t].vnode=null)},isParent:function(e){return this.nodes[e].children&&this.nodes[e].children.length},updateActive:function(e,t){var r=this;if(this.nodes.hasOwnProperty(e)){this.multipleActive||this.activeCache.forEach((function(e){r.nodes[e].isActive=!1,r.updateVnodeState(e),r.activeCache.delete(e)}));var n=this.nodes[e];n&&(t?this.activeCache.add(e):this.activeCache.delete(e),n.isActive=t,this.updateVnodeState(e))}},updateSelected:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.nodes.hasOwnProperty(e)){var n=new Map;if("independent"!==this.selectionType){var i,a=_createForOfIteratorHelper(this.getDescendants(e));try{for(a.s();!(i=a.n()).done;){var s=i.value;(0,_helpers.getObjectValueByPath)(this.nodes[s].item,this.itemDisabled)&&!r||(this.nodes[s].isSelected=t,this.nodes[s].isIndeterminate=!1,n.set(s,t))}}catch(e){a.e(e)}finally{a.f()}var o=this.calculateState(e,this.nodes);this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=o.isIndeterminate,n.set(e,t);var l,c=_createForOfIteratorHelper(this.getParents(e));try{for(c.s();!(l=c.n()).done;){var h=l.value,u=this.calculateState(h,this.nodes);this.nodes[h].isSelected=u.isSelected,this.nodes[h].isIndeterminate=u.isIndeterminate,n.set(h,u.isSelected)}}catch(e){c.e(e)}finally{c.f()}}else this.nodes[e].isSelected=t,this.nodes[e].isIndeterminate=!1,n.set(e,t);var d,p=_createForOfIteratorHelper(n.entries());try{for(p.s();!(d=p.n()).done;){var f=_slicedToArray(d.value,2),y=f[0],v=f[1];this.updateVnodeState(y),"leaf"===this.selectionType&&this.isParent(y)||(!0===v?this.selectedCache.add(y):this.selectedCache.delete(y))}}catch(e){p.e(e)}finally{p.f()}}},updateOpen:function(e,t){var r=this;if(this.nodes.hasOwnProperty(e)){var n=this.nodes[e],i=(0,_helpers.getObjectValueByPath)(n.item,this.itemChildren);i&&!i.length&&n.vnode&&!n.vnode.hasLoaded?n.vnode.checkChildren().then((function(){return r.updateOpen(e,t)})):i&&i.length&&(n.isOpen=t,n.isOpen?this.openCache.add(e):this.openCache.delete(e),this.updateVnodeState(e))}},updateVnodeState:function(e){var t=this.nodes[e];t&&t.vnode&&(t.vnode.isSelected=t.isSelected,t.vnode.isIndeterminate=t.isIndeterminate,t.vnode.isActive=t.isActive,t.vnode.isOpen=t.isOpen)},isExcluded:function(e){return!!this.search&&this.excludedItems.has(e)}},render:function(e){var t=this,r=this.items.length?this.items.filter((function(e){return!t.isExcluded((0,_helpers.getObjectValueByPath)(e,t.itemKey))})).map((function(e){return _VTreeviewNode.default.options.methods.genChild.bind(t)(e,t.disabled||(0,_helpers.getObjectValueByPath)(e,t.itemDisabled))})):this.$slots.default;return e("div",{staticClass:"v-treeview",class:_objectSpread({"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense},this.themeClasses)},r)}});exports.default=_default2;
//# sourceMappingURL=/sm/56d86916696cc07baae4bfce9c5c6b40ce07246243e6e538d54f57d15c72132e.map