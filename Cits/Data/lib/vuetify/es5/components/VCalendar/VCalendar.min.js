/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/es5/components/VCalendar/VCalendar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _calendarWithEvents=_interopRequireDefault(require("./mixins/calendar-with-events")),_props=_interopRequireDefault(require("./util/props")),_timestamp=require("./util/timestamp"),_VCalendarMonthly=_interopRequireDefault(require("./VCalendarMonthly")),_VCalendarDaily=_interopRequireDefault(require("./VCalendarDaily")),_VCalendarWeekly=_interopRequireDefault(require("./VCalendarWeekly")),_VCalendarCategory=_interopRequireDefault(require("./VCalendarCategory")),_parser=require("./util/parser");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _default=_calendarWithEvents.default.extend({name:"v-calendar",props:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},_props.default.calendar),_props.default.weeks),_props.default.intervals),_props.default.category),data:function(){return{lastStart:null,lastEnd:null}},computed:{parsedValue:function(){return(0,_timestamp.validateTimestamp)(this.value)?(0,_timestamp.parseTimestamp)(this.value,!0):this.parsedStart||this.times.today},parsedCategoryDays:function(){return parseInt(this.categoryDays)||1},renderProps:function(){var e=this.parsedValue,t=null,a=this.maxDays,r=this.parsedWeekdays,i=this.parsedCategories,n=e,s=e;switch(this.type){case"month":t=_VCalendarMonthly.default,n=(0,_timestamp.getStartOfMonth)(e),s=(0,_timestamp.getEndOfMonth)(e);break;case"week":t=_VCalendarDaily.default,n=this.getStartOfWeek(e),s=this.getEndOfWeek(e),a=7;break;case"day":t=_VCalendarDaily.default,a=1,r=[n.weekday];break;case"4day":t=_VCalendarDaily.default,s=(0,_timestamp.relativeDays)((0,_timestamp.copyTimestamp)(s),_timestamp.nextDay,3),(0,_timestamp.updateFormatted)(s),a=4,r=[n.weekday,(n.weekday+1)%7,(n.weekday+2)%7,(n.weekday+3)%7];break;case"custom-weekly":t=_VCalendarWeekly.default,n=this.parsedStart||e,s=this.parsedEnd;break;case"custom-daily":t=_VCalendarDaily.default,n=this.parsedStart||e,s=this.parsedEnd;break;case"category":var o=this.parsedCategoryDays;t=_VCalendarCategory.default,s=(0,_timestamp.relativeDays)((0,_timestamp.copyTimestamp)(s),_timestamp.nextDay,o),(0,_timestamp.updateFormatted)(s),a=o,r=[];for(var p=0;p<o;p++)r.push((n.weekday+p)%7);i=this.getCategoryList(i);break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:t,start:n,end:s,maxDays:a,weekdays:r,categories:i}},eventWeekdays:function(){return this.renderProps.weekdays},categoryMode:function(){return"category"===this.type},title:function(){var e=this.renderProps,t=e.start,a=e.end,r=t.year!==a.year,i=r||t.month!==a.month;return r?this.monthShortFormatter(t,!0)+" "+t.year+" - "+this.monthShortFormatter(a,!0)+" "+a.year:i?this.monthShortFormatter(t,!0)+" - "+this.monthShortFormatter(a,!0)+" "+a.year:this.monthLongFormatter(t,!1)+" "+t.year},monthLongFormatter:function(){return this.getFormatter({timeZone:"UTC",month:"long"})},monthShortFormatter:function(){return this.getFormatter({timeZone:"UTC",month:"short"})},parsedCategories:function(){return(0,_parser.getParsedCategories)(this.categories,this.categoryText)}},watch:{renderProps:"checkChange"},mounted:function(){this.updateEventVisibility(),this.checkChange()},updated:function(){window.requestAnimationFrame(this.updateEventVisibility)},methods:{checkChange:function(){var e=this.lastStart,t=this.lastEnd,a=this.renderProps,r=a.start,i=a.end;e&&t&&r.date===e.date&&i.date===t.date||(this.lastStart=r,this.lastEnd=i,this.$emit("change",{start:r,end:i}))},move:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=(0,_timestamp.copyTimestamp)(this.parsedValue),a=e>0,r=a?_timestamp.nextDay:_timestamp.prevDay,i=a?_timestamp.DAYS_IN_MONTH_MAX:_timestamp.DAY_MIN,n=a?e:-e;--n>=0;)switch(this.type){case"month":t.day=i,r(t);break;case"week":(0,_timestamp.relativeDays)(t,r,_timestamp.DAYS_IN_WEEK);break;case"day":(0,_timestamp.relativeDays)(t,r,1);break;case"4day":(0,_timestamp.relativeDays)(t,r,4);break;case"category":(0,_timestamp.relativeDays)(t,r,this.parsedCategoryDays)}(0,_timestamp.updateWeekday)(t),(0,_timestamp.updateFormatted)(t),(0,_timestamp.updateRelative)(t,this.times.now),this.value instanceof Date?this.$emit("input",(0,_timestamp.timestampToDate)(t)):"number"==typeof this.value?this.$emit("input",(0,_timestamp.timestampToDate)(t).getTime()):this.$emit("input",t.date),this.$emit("moved",t)},next:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(e)},prev:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(-e)},timeToY:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.$children[0];return!(!a||!a.timeToY)&&a.timeToY(e,t)},timeDelta:function(e){var t=this.$children[0];return!(!t||!t.timeDelta)&&t.timeDelta(e)},minutesToPixels:function(e){var t=this.$children[0];return t&&t.minutesToPixels?t.minutesToPixels(e):-1},scrollToTime:function(e){var t=this.$children[0];return!(!t||!t.scrollToTime)&&t.scrollToTime(e)},parseTimestamp:function(e,t){return(0,_timestamp.parseTimestamp)(e,t,this.times.now)},timestampToDate:function(e){return(0,_timestamp.timestampToDate)(e)},getCategoryList:function(e){var t=this;if(!this.noEvents){var a=e.reduce((function(e,t,a){return"object"===_typeof(t)&&t.categoryName?e[t.categoryName]={index:a,count:0}:"string"==typeof t&&(e[t]={index:a,count:0}),e}),{});if(!this.categoryHideDynamic||!this.categoryShowAll){var r=e.length;this.parsedEvents.forEach((function(e){var i=e.category;"string"!=typeof i&&(i=t.categoryForInvalid),i&&(i in a?a[i].count++:t.categoryHideDynamic||(a[i]={index:r++,count:1}))}))}if(!this.categoryShowAll)for(var i in a)0===a[i].count&&delete a[i];e=e.filter((function(e){return"object"===_typeof(e)&&e.categoryName?a.hasOwnProperty(e.categoryName):"string"==typeof e&&a.hasOwnProperty(e)}))}return e}},render:function(e){var t=this,a=this.renderProps,r=a.start,i=a.end,n=a.maxDays,s=a.component,o=a.weekdays,p=a.categories;return e(s,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:_objectSpread(_objectSpread({},this.$props),{},{start:r.date,end:i.date,maxDays:n,weekdays:o,categories:p}),directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:_objectSpread(_objectSpread({},this.$listeners),{},{"click:date":function(e,a){t.$listeners.input&&t.$emit("input",e.date),t.$listeners["click:date"]&&t.$emit("click:date",e,a)}}),scopedSlots:this.getScopedSlots()})}});exports.default=_default;
//# sourceMappingURL=/sm/402dd6603690198dfae0bc9e6c881fb890af68ed5ed22ce4a97b8d33b23da517.map