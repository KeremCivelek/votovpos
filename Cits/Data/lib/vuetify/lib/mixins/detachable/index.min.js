/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/mixins/detachable/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Bootable from"../bootable";import{getObjectValueByPath}from"../../util/helpers";import mixins from"../../util/mixins";import{consoleWarn}from"../../util/console";function validateAttachTarget(t){const e=typeof t;return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}function removeActivator(t){t.forEach((t=>{t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}export default mixins(Bootable).extend({name:"detachable",props:{attach:{default:!1,validator:validateAttachTarget},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick((()=>{if(this.activatorNode){(Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode]).forEach((t=>{if(!t.elm)return;if(!this.$el.parentNode)return;const e=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(t.elm,e)}))}}))},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content)},destroyed(){if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];if(this.$el.isConnected){const e=new MutationObserver((a=>{a.some((t=>Array.from(t.removedNodes).includes(this.$el)))&&(e.disconnect(),removeActivator(t))}));e.observe(this.$el.parentNode,{subtree:!1,childList:!0})}else removeActivator(t)}},methods:{getScopeIdAttrs(){const t=getObjectValueByPath(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let t;t=!1===this.attach?document.querySelector("[data-app]"):"string"==typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):consoleWarn(`Unable to locate target ${this.attach||"[data-app]"}`,this)}}});
//# sourceMappingURL=/sm/12f3c02fc070f077c9c76fdb95cce139a6d24be845a436a7bac87930da14945b.map