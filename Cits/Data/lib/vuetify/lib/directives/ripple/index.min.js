/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/directives/ripple/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"../../../src/directives/ripple/VRipple.sass";import{consoleWarn}from"../../util/console";import{keyCodes}from"../../util/helpers";const DELAY_RIPPLE=80;function transform(e,i){e.style.transform=i,e.style.webkitTransform=i}function isTouchEvent(e){return"TouchEvent"===e.constructor.name}function isKeyboardEvent(e){return"KeyboardEvent"===e.constructor.name}const calculate=(e,i,t={})=>{let p=0,r=0;if(!isKeyboardEvent(e)){const t=i.getBoundingClientRect(),n=isTouchEvent(e)?e.touches[e.touches.length-1]:e;p=n.clientX-t.left,r=n.clientY-t.top}let n=0,o=.3;i._ripple&&i._ripple.circle?(o=.15,n=i.clientWidth/2,n=t.center?n:n+Math.sqrt((p-n)**2+(r-n)**2)/4):n=Math.sqrt(i.clientWidth**2+i.clientHeight**2)/2;const s=(i.clientWidth-2*n)/2+"px",l=(i.clientHeight-2*n)/2+"px";return{radius:n,scale:o,x:t.center?s:p-n+"px",y:t.center?l:r-n+"px",centerX:s,centerY:l}},ripples={show(e,i,t={}){if(!i._ripple||!i._ripple.enabled)return;const p=document.createElement("span"),r=document.createElement("span");p.appendChild(r),p.className="v-ripple__container",t.class&&(p.className+=` ${t.class}`);const{radius:n,scale:o,x:s,y:l,centerX:a,centerY:d}=calculate(e,i,t),c=2*n+"px";r.className="v-ripple__animation",r.style.width=c,r.style.height=c,i.appendChild(p);const u=window.getComputedStyle(i);u&&"static"===u.position&&(i.style.position="relative",i.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),transform(r,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout((()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),transform(r,`translate(${a}, ${d}) scale3d(1,1,1)`)}),0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const i=e.getElementsByClassName("v-ripple__animation");if(0===i.length)return;const t=i[i.length-1];if(t.dataset.isHiding)return;t.dataset.isHiding="true";const p=performance.now()-Number(t.dataset.activated),r=Math.max(250-p,0);setTimeout((()=>{t.classList.remove("v-ripple__animation--in"),t.classList.add("v-ripple__animation--out"),setTimeout((()=>{1===e.getElementsByClassName("v-ripple__animation").length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),t.parentNode&&e.removeChild(t.parentNode)}),300)}),r)}};function isRippleEnabled(e){return void 0===e||!!e}function rippleShow(e){const i={},t=e.currentTarget;if(t&&t._ripple&&!t._ripple.touched&&!e.rippleStop){if(e.rippleStop=!0,isTouchEvent(e))t._ripple.touched=!0,t._ripple.isTouch=!0;else if(t._ripple.isTouch)return;if(i.center=t._ripple.centered||isKeyboardEvent(e),t._ripple.class&&(i.class=t._ripple.class),isTouchEvent(e)){if(t._ripple.showTimerCommit)return;t._ripple.showTimerCommit=()=>{ripples.show(e,t,i)},t._ripple.showTimer=window.setTimeout((()=>{t&&t._ripple&&t._ripple.showTimerCommit&&(t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null)}),80)}else ripples.show(e,t,i)}}function rippleHide(e){const i=e.currentTarget;if(i&&i._ripple){if(window.clearTimeout(i._ripple.showTimer),"touchend"===e.type&&i._ripple.showTimerCommit)return i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null,void(i._ripple.showTimer=setTimeout((()=>{rippleHide(e)})));window.setTimeout((()=>{i._ripple&&(i._ripple.touched=!1)})),ripples.hide(i)}}function rippleCancelShow(e){const i=e.currentTarget;i&&i._ripple&&(i._ripple.showTimerCommit&&(i._ripple.showTimerCommit=null),window.clearTimeout(i._ripple.showTimer))}let keyboardRipple=!1;function keyboardRippleShow(e){keyboardRipple||e.keyCode!==keyCodes.enter&&e.keyCode!==keyCodes.space||(keyboardRipple=!0,rippleShow(e))}function keyboardRippleHide(e){keyboardRipple=!1,rippleHide(e)}function focusRippleHide(e){!0===keyboardRipple&&(keyboardRipple=!1,rippleHide(e))}function updateRipple(e,i,t){const p=isRippleEnabled(i.value);p||ripples.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=p;const r=i.value||{};r.center&&(e._ripple.centered=!0),r.class&&(e._ripple.class=i.value.class),r.circle&&(e._ripple.circle=r.circle),p&&!t?(e.addEventListener("touchstart",rippleShow,{passive:!0}),e.addEventListener("touchend",rippleHide,{passive:!0}),e.addEventListener("touchmove",rippleCancelShow,{passive:!0}),e.addEventListener("touchcancel",rippleHide),e.addEventListener("mousedown",rippleShow),e.addEventListener("mouseup",rippleHide),e.addEventListener("mouseleave",rippleHide),e.addEventListener("keydown",keyboardRippleShow),e.addEventListener("keyup",keyboardRippleHide),e.addEventListener("blur",focusRippleHide),e.addEventListener("dragstart",rippleHide,{passive:!0})):!p&&t&&removeListeners(e)}function removeListeners(e){e.removeEventListener("mousedown",rippleShow),e.removeEventListener("touchstart",rippleShow),e.removeEventListener("touchend",rippleHide),e.removeEventListener("touchmove",rippleCancelShow),e.removeEventListener("touchcancel",rippleHide),e.removeEventListener("mouseup",rippleHide),e.removeEventListener("mouseleave",rippleHide),e.removeEventListener("keydown",keyboardRippleShow),e.removeEventListener("keyup",keyboardRippleHide),e.removeEventListener("dragstart",rippleHide),e.removeEventListener("blur",focusRippleHide)}function directive(e,i,t){updateRipple(e,i,!1),"development"===process.env.NODE_ENV&&t.context&&t.context.$nextTick((()=>{const i=window.getComputedStyle(e);if(i&&"inline"===i.display){const e=t.fnOptions?[t.fnOptions,t.context]:[t.componentInstance];consoleWarn("v-ripple can only be used on block-level elements",...e)}}))}function unbind(e){delete e._ripple,removeListeners(e)}function update(e,i){if(i.value===i.oldValue)return;updateRipple(e,i,isRippleEnabled(i.oldValue))}export const Ripple={bind:directive,unbind:unbind,update:update};export default Ripple;
//# sourceMappingURL=/sm/04e30719af7e998da60997396a2cbb538002d7c79ea55b93e87147d0d7bde543.map