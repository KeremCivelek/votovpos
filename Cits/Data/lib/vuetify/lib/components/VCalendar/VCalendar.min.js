/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/components/VCalendar/VCalendar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import CalendarWithEvents from"./mixins/calendar-with-events";import props from"./util/props";import{DAYS_IN_MONTH_MAX,DAY_MIN,DAYS_IN_WEEK,parseTimestamp,validateTimestamp,relativeDays,nextDay,prevDay,copyTimestamp,updateFormatted,updateWeekday,updateRelative,getStartOfMonth,getEndOfMonth,timestampToDate}from"./util/timestamp";import VCalendarMonthly from"./VCalendarMonthly";import VCalendarDaily from"./VCalendarDaily";import VCalendarWeekly from"./VCalendarWeekly";import VCalendarCategory from"./VCalendarCategory";import{getParsedCategories}from"./util/parser";export default CalendarWithEvents.extend({name:"v-calendar",props:{...props.calendar,...props.weeks,...props.intervals,...props.category},data:()=>({lastStart:null,lastEnd:null}),computed:{parsedValue(){return validateTimestamp(this.value)?parseTimestamp(this.value,!0):this.parsedStart||this.times.today},parsedCategoryDays(){return parseInt(this.categoryDays)||1},renderProps(){const e=this.parsedValue;let t=null,a=this.maxDays,r=this.parsedWeekdays,s=this.parsedCategories,i=e,o=e;switch(this.type){case"month":t=VCalendarMonthly,i=getStartOfMonth(e),o=getEndOfMonth(e);break;case"week":t=VCalendarDaily,i=this.getStartOfWeek(e),o=this.getEndOfWeek(e),a=7;break;case"day":t=VCalendarDaily,a=1,r=[i.weekday];break;case"4day":t=VCalendarDaily,o=relativeDays(copyTimestamp(o),nextDay,3),updateFormatted(o),a=4,r=[i.weekday,(i.weekday+1)%7,(i.weekday+2)%7,(i.weekday+3)%7];break;case"custom-weekly":t=VCalendarWeekly,i=this.parsedStart||e,o=this.parsedEnd;break;case"custom-daily":t=VCalendarDaily,i=this.parsedStart||e,o=this.parsedEnd;break;case"category":const n=this.parsedCategoryDays;t=VCalendarCategory,o=relativeDays(copyTimestamp(o),nextDay,n),updateFormatted(o),a=n,r=[];for(let e=0;e<n;e++)r.push((i.weekday+e)%7);s=this.getCategoryList(s);break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:t,start:i,end:o,maxDays:a,weekdays:r,categories:s}},eventWeekdays(){return this.renderProps.weekdays},categoryMode(){return"category"===this.type},title(){const{start:e,end:t}=this.renderProps,a=e.year!==t.year,r=a||e.month!==t.month;return a?this.monthShortFormatter(e,!0)+" "+e.year+" - "+this.monthShortFormatter(t,!0)+" "+t.year:r?this.monthShortFormatter(e,!0)+" - "+this.monthShortFormatter(t,!0)+" "+t.year:this.monthLongFormatter(e,!1)+" "+e.year},monthLongFormatter(){return this.getFormatter({timeZone:"UTC",month:"long"})},monthShortFormatter(){return this.getFormatter({timeZone:"UTC",month:"short"})},parsedCategories(){return getParsedCategories(this.categories,this.categoryText)}},watch:{renderProps:"checkChange"},mounted(){this.updateEventVisibility(),this.checkChange()},updated(){window.requestAnimationFrame(this.updateEventVisibility)},methods:{checkChange(){const{lastStart:e,lastEnd:t}=this,{start:a,end:r}=this.renderProps;e&&t&&a.date===e.date&&r.date===t.date||(this.lastStart=a,this.lastEnd=r,this.$emit("change",{start:a,end:r}))},move(e=1){const t=copyTimestamp(this.parsedValue),a=e>0,r=a?nextDay:prevDay,s=a?DAYS_IN_MONTH_MAX:DAY_MIN;let i=a?e:-e;for(;--i>=0;)switch(this.type){case"month":t.day=s,r(t);break;case"week":relativeDays(t,r,DAYS_IN_WEEK);break;case"day":relativeDays(t,r,1);break;case"4day":relativeDays(t,r,4);break;case"category":relativeDays(t,r,this.parsedCategoryDays)}updateWeekday(t),updateFormatted(t),updateRelative(t,this.times.now),this.value instanceof Date?this.$emit("input",timestampToDate(t)):"number"==typeof this.value?this.$emit("input",timestampToDate(t).getTime()):this.$emit("input",t.date),this.$emit("moved",t)},next(e=1){this.move(e)},prev(e=1){this.move(-e)},timeToY(e,t=!0){const a=this.$children[0];return!(!a||!a.timeToY)&&a.timeToY(e,t)},timeDelta(e){const t=this.$children[0];return!(!t||!t.timeDelta)&&t.timeDelta(e)},minutesToPixels(e){const t=this.$children[0];return t&&t.minutesToPixels?t.minutesToPixels(e):-1},scrollToTime(e){const t=this.$children[0];return!(!t||!t.scrollToTime)&&t.scrollToTime(e)},parseTimestamp(e,t){return parseTimestamp(e,t,this.times.now)},timestampToDate:e=>timestampToDate(e),getCategoryList(e){if(!this.noEvents){const t=e.reduce(((e,t,a)=>("object"==typeof t&&t.categoryName?e[t.categoryName]={index:a,count:0}:"string"==typeof t&&(e[t]={index:a,count:0}),e)),{});if(!this.categoryHideDynamic||!this.categoryShowAll){let a=e.length;this.parsedEvents.forEach((e=>{let r=e.category;"string"!=typeof r&&(r=this.categoryForInvalid),r&&(r in t?t[r].count++:this.categoryHideDynamic||(t[r]={index:a++,count:1}))}))}if(!this.categoryShowAll)for(const e in t)0===t[e].count&&delete t[e];e=e.filter((e=>"object"==typeof e&&e.categoryName?t.hasOwnProperty(e.categoryName):"string"==typeof e&&t.hasOwnProperty(e)))}return e}},render(e){const{start:t,end:a,maxDays:r,component:s,weekdays:i,categories:o}=this.renderProps;return e(s,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:{...this.$props,start:t.date,end:a.date,maxDays:r,weekdays:i,categories:o},directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:{...this.$listeners,"click:date":(e,t)=>{this.$listeners.input&&this.$emit("input",e.date),this.$listeners["click:date"]&&this.$emit("click:date",e,t)}},scopedSlots:this.getScopedSlots()})}});
//# sourceMappingURL=/sm/e6de850054dd34901134fb53cef8f6fbdeeec96715029e41696f03d4796e4bb1.map