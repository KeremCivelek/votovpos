/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/components/VTimePicker/VTimePicker.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import VTimePickerTitle from"./VTimePickerTitle";import VTimePickerClock from"./VTimePickerClock";import Picker from"../../mixins/picker";import PickerButton from"../../mixins/picker-button";import{createRange}from"../../util/helpers";import pad from"../VDatePicker/util/pad";import mixins from"../../util/mixins";import{SelectingTimes}from"./SelectingTimes";const rangeHours24=createRange(24),rangeHours12am=createRange(12),rangeHours12pm=rangeHours12am.map((i=>i+12)),range60=createRange(60),selectingNames={1:"hour",2:"minute",3:"second"};export{SelectingTimes};export default mixins(Picker,PickerButton).extend({name:"v-time-picker",props:{allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator:i=>["ampm","24hr"].includes(i)},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:()=>({inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:SelectingTimes.Hour}),computed:{selectingHour:{get(){return this.selecting===SelectingTimes.Hour},set(i){this.selecting=SelectingTimes.Hour}},selectingMinute:{get(){return this.selecting===SelectingTimes.Minute},set(i){this.selecting=SelectingTimes.Minute}},selectingSecond:{get(){return this.selecting===SelectingTimes.Second},set(i){this.selecting=SelectingTimes.Second}},isAllowedHourCb(){let i;if(i=this.allowedHours instanceof Array?i=>this.allowedHours.includes(i):this.allowedHours,!this.min&&!this.max)return i;const t=this.min?Number(this.min.split(":")[0]):0,e=this.max?Number(this.max.split(":")[0]):23;return s=>s>=1*t&&s<=1*e&&(!i||i(s))},isAllowedMinuteCb(){let i;const t=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(i=this.allowedMinutes instanceof Array?i=>this.allowedMinutes.includes(i):this.allowedMinutes,!this.min&&!this.max)return t?i:()=>!1;const[e,s]=this.min?this.min.split(":").map(Number):[0,0],[n,l]=this.max?this.max.split(":").map(Number):[23,59],u=60*e+1*s,o=60*n+1*l;return e=>{const s=60*this.inputHour+e;return s>=u&&s<=o&&t&&(!i||i(e))}},isAllowedSecondCb(){let i;const t=(!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour))&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(i=this.allowedSeconds instanceof Array?i=>this.allowedSeconds.includes(i):this.allowedSeconds,!this.min&&!this.max)return t?i:()=>!1;const[e,s,n]=this.min?this.min.split(":").map(Number):[0,0,0],[l,u,o]=this.max?this.max.split(":").map(Number):[23,59,59],r=3600*e+60*s+1*(n||0),h=3600*l+60*u+1*(o||0);return e=>{const s=3600*this.inputHour+60*this.inputMinute+e;return s>=r&&s<=h&&t&&(!i||i(e))}},isAmPm(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:`${pad(this.inputHour)}:${pad(this.inputMinute)}`+(this.useSeconds?`:${pad(this.inputSecond)}`:"")},emitValue(){const i=this.genValue();null!==i&&this.$emit("input",i)},setPeriod(i){if(this.period=i,null!=this.inputHour){const t=this.inputHour+("am"===i?-12:12);this.inputHour=this.firstAllowed("hour",t),this.emitValue()}},setInputData(i){if(null==i||""===i)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(i instanceof Date)this.inputHour=i.getHours(),this.inputMinute=i.getMinutes(),this.inputSecond=i.getSeconds();else{const[,t,e,,s,n]=i.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);this.inputHour=n?this.convert12to24(parseInt(t,10),n):parseInt(t,10),this.inputMinute=parseInt(e,10),this.inputSecond=parseInt(s||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:i=>i?(i-1)%12+1:12,convert12to24:(i,t)=>i%12+("pm"===t?12:0),onInput(i){this.selecting===SelectingTimes.Hour?this.inputHour=this.isAmPm?this.convert12to24(i,this.period):i:this.selecting===SelectingTimes.Minute?this.inputMinute=i:this.inputSecond=i,this.emitValue()},onChange(i){this.$emit(`click:${selectingNames[this.selecting]}`,i);const t=this.selecting===(this.useSeconds?SelectingTimes.Second:SelectingTimes.Minute);if(this.selecting===SelectingTimes.Hour?this.selecting=SelectingTimes.Minute:this.useSeconds&&this.selecting===SelectingTimes.Minute&&(this.selecting=SelectingTimes.Second),this.inputHour===this.lazyInputHour&&this.inputMinute===this.lazyInputMinute&&(!this.useSeconds||this.inputSecond===this.lazyInputSecond))return;const e=this.genValue();null!==e&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),t&&this.$emit("change",e))},firstAllowed(i,t){const e="hour"===i?this.isAllowedHourCb:"minute"===i?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!e)return t;const s="minute"===i||"second"===i?range60:this.isAmPm?t<12?rangeHours12am:rangeHours12pm:rangeHours24;return((s.find((i=>e((i+t)%s.length+s[0])))||0)+t)%s.length+s[0]},genClock(){return this.$createElement(VTimePickerClock,{props:{allowedValues:this.selecting===SelectingTimes.Hour?this.isAllowedHourCb:this.selecting===SelectingTimes.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===SelectingTimes.Hour&&!this.isAmPm,format:this.selecting===SelectingTimes.Hour?this.isAmPm?this.convert24to12:i=>i:i=>pad(i,2),light:this.light,max:this.selecting===SelectingTimes.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===SelectingTimes.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===SelectingTimes.Hour?1:5,value:this.selecting===SelectingTimes.Hour?this.inputHour:this.selecting===SelectingTimes.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle(){return this.$createElement(VTimePickerTitle,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":i=>this.selecting=i,"update:period":i=>this.$emit("update:period",i)},ref:"title",slot:"title"})}},render(){return this.genPicker("v-picker--time")}});
//# sourceMappingURL=/sm/05125fcd03b850b4072f554f53827dfbbcc4d3ec2cca45c8d0072a442ac5704f.map