/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/components/VDatePicker/mixins/date-picker-table.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import"../../../../src/components/VDatePicker/VDatePickerTable.sass";import Touch from"../../../directives/touch";import Colorable from"../../../mixins/colorable";import Localable from"../../../mixins/localable";import Themeable from"../../../mixins/themeable";import{createItemTypeNativeListeners,sanitizeDateString}from"../util";import isDateAllowed from"../util/isDateAllowed";import{mergeListeners}from"../../../util/mergeData";import mixins from"../../../util/mixins";import{throttle}from"../../../util/helpers";export default mixins(Colorable,Localable,Themeable).extend({directives:{Touch:Touch},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>"warning"},min:String,max:String,range:Boolean,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:()=>({isReversing:!1,wheelThrottle:null}),computed:{computedTransition(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth(){return Number(this.tableDate.split("-")[1])-1},displayedYear(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate(t,e){this.isReversing=t<e}},mounted(){this.wheelThrottle=throttle(this.wheel,250)},methods:{genButtonClasses(t,e,i,s,r,a){return{"v-size--default":!e,"v-date-picker-table__current":s,"v-btn--active":i,"v-btn--flat":!t||this.disabled,"v-btn--text":i===s,"v-btn--rounded":e,"v-btn--disabled":!t||this.disabled,"v-btn--outlined":s&&!i,"v-date-picker--first-in-range":r,"v-date-picker--last-in-range":a,...this.themeClasses}},genButtonEvents(t,e,i){if(!this.disabled)return mergeListeners({click:()=>{e&&!this.readonly&&this.$emit("input",t)}},createItemTypeNativeListeners(this,`:${i}`,t))},genButton(t,e,i,s,r=!1){const a=isDateAllowed(t,this.min,this.max,this.allowedDates),n=this.isSelected(t)&&a,l=t===this.current,o=n?this.setBackgroundColor:this.setTextColor,h=(n||l)&&(this.color||"accent");let c=!1,u=!1;return this.range&&this.value&&Array.isArray(this.value)&&(c=t===this.value[0],u=t===this.value[this.value.length-1]),this.$createElement("button",o(h,{staticClass:"v-btn",class:this.genButtonClasses(a&&!r,e,n,l,c,u),attrs:{type:"button"},domProps:{disabled:this.disabled||!a||r},on:this.genButtonEvents(t,a,i)}),[this.$createElement("div",{staticClass:"v-btn__content"},[s(t)]),this.genEvents(t)])},getEventColors(t){const e=t=>Array.isArray(t)?t:[t];let i,s=[];return i=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:this.events&&this.events[t]||!1,i?(s=!0!==i?e(i):"string"==typeof this.eventColor?[this.eventColor]:"function"==typeof this.eventColor?e(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:e(this.eventColor[t]),s.filter((t=>t))):[]},genEvents(t){const e=this.getEventColors(t);return e.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},e.map((t=>this.$createElement("div",this.setBackgroundColor(t))))):null},isValidScroll(t,e){const i=e(t),s=1===i.split("-").length?"year":"month";return t<0&&(!this.min||i>=sanitizeDateString(this.min,s))||t>0&&(!this.max||i<=sanitizeDateString(this.max,s))},wheel(t,e){this.$emit("update:table-date",e(t.deltaY))},touch(t,e){this.$emit("update:table-date",e(t))},genTable(t,e,i){const s=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),r={name:"touch",value:{left:t=>t.offsetX<-15&&this.isValidScroll(1,i)&&this.touch(1,i),right:t=>t.offsetX>15&&this.isValidScroll(-1,i)&&this.touch(-1,i)}};return this.$createElement("div",{staticClass:t,class:{"v-date-picker-table--disabled":this.disabled,...this.themeClasses},on:!this.disabled&&this.scrollable?{wheel:t=>{t.preventDefault(),this.isValidScroll(t.deltaY,i)&&this.wheelThrottle(t,i)}}:void 0,directives:[r]},[s])},isSelected(t){if(Array.isArray(this.value)){if(this.range&&2===this.value.length){const[e,i]=[...this.value].sort();return e<=t&&t<=i}return-1!==this.value.indexOf(t)}return t===this.value}}});
//# sourceMappingURL=/sm/f94db497b330e80473bce6bc493f71f0ef0481ca223f9af4f8c11eac1a73bbc4.map