/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/vuetify@2.6.6/lib/services/theme/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Service}from"../service";import*as ThemeUtils from"./utils";import{getNestedValue}from"../../util/helpers";import Vue from"vue";export class Theme extends Service{constructor(e){super(),this.disabled=!1,this.isDark=null,this.unwatch=null,this.vueMeta=null;const{dark:t,disable:s,options:i,themes:h}=e[Theme.property];this.dark=Boolean(t),this.defaults=this.themes=h,this.options=i,s?this.disabled=!0:this.themes={dark:this.fillVariant(h.dark,!0),light:this.fillVariant(h.light,!1)}}set css(e){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=e)}set dark(e){const t=this.isDark;this.isDark=e,null!=t&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(e,t){this.disabled||(e.$meta?this.initVueMeta(e):t&&this.initSSR(t),this.initTheme(e))}setTheme(e,t){this.themes[e]=Object.assign(this.themes[e],t),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(e={},t){const s=this.themes[t?"dark":"light"];return Object.assign({},s,e)}genStyleElement(){"undefined"!=typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}initVueMeta(e){if(this.vueMeta=e.$meta(),this.isVueMeta23)return void e.$nextTick((()=>{this.applyVueMeta23()}));const t="function"==typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",s=e.$options[t]||{};e.$options[t]=()=>{s.style=s.style||[];const e=s.style.find((e=>"vuetify-theme-stylesheet"===e.id));return e?e.cssText=this.generatedStyles:s.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),s}}applyVueMeta23(){const{set:e}=this.vueMeta.addApp("vuetify");e({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}initSSR(e){const t=this.options.cspNonce?` nonce="${this.options.cspNonce}"`:"";e.head=e.head||"",e.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${t}>${this.generatedStyles}</style>`}initTheme(e){"undefined"!=typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),e.$once("hook:created",(()=>{const t=Vue.observable({themes:this.themes});this.unwatch=e.$watch((()=>t.themes),(()=>this.applyTheme()),{deep:!0})})),this.applyTheme())}get currentTheme(){const e=this.dark?"dark":"light";return this.themes[e]}get generatedStyles(){const e=this.parsedTheme,t=this.options||{};let s;return null!=t.themeCache&&(s=t.themeCache.get(e),null!=s)||(s=ThemeUtils.genStyles(e,t.customProperties),null!=t.minifyTheme&&(s=t.minifyTheme(s)),null!=t.themeCache&&t.themeCache.set(e,s)),s}get parsedTheme(){return ThemeUtils.parse(this.currentTheme||{},void 0,getNestedValue(this.options,["variations"],!0))}get isVueMeta23(){return"function"==typeof this.vueMeta.addApp}}Theme.property="theme";
//# sourceMappingURL=/sm/a7db675892c357d00f14b2d2a278501a7967d43bd5c8c5f292927d034cccf31a.map